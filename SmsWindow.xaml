<Window x:Class="WebScraper.SmsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:WebScraper"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="SMS Gönderim Sistemi - Güleryüz Group" 
        Height="700" Width="1100"
        WindowStartupLocation="CenterScreen"
        MinHeight="600" MinWidth="800"
        FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins">
    
    <Window.Resources>
        <!-- Global Font Style -->
        <Style TargetType="TextBlock">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <Style TargetType="Label">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <Style TargetType="Button">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <Style TargetType="CheckBox">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <Style TargetType="TextBox">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <Style TargetType="PasswordBox">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <Style TargetType="ComboBox">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
        </Style>
        
        <!-- Modern UI Styles -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Height" Value="38"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" 
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter x:Name="ContentPresenter" 
                                            HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="#CCCCCC"/>
                                <Setter TargetName="ContentPresenter" Property="Opacity" Value="0.5"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#1976D2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="FontWeight" Value="Normal"/>
        </Style>
        
        <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#F44336"/>
            <Setter Property="FontWeight" Value="Normal"/>
        </Style>
        
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="ModernPasswordBox" TargetType="PasswordBox">
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        
        <!-- Modern TabItem Style -->
        <Style x:Key="ModernTabItem" TargetType="TabItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="30,20"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
            <Setter Property="MinWidth" Value="160"/>
            <Setter Property="MinHeight" Value="50"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Grid>
                            <Border x:Name="Border" 
                                    Background="Transparent" 
                                    BorderThickness="0,0,0,3"
                                    BorderBrush="Transparent"
                                    CornerRadius="8,8,0,0">
                                <ContentPresenter x:Name="ContentSite"
                                                ContentSource="Header"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Margin="15,8"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F0F8FF"/>
                                <Setter TargetName="Border" Property="BorderBrush" Value="#2196F3"/>
                                <Setter Property="Foreground" Value="#2196F3"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F5F5F5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Grid>
                            <Border x:Name="Border" 
                                    Background="Transparent" 
                                    BorderThickness="0,0,0,3"
                                    BorderBrush="Transparent"
                                    CornerRadius="8,8,0,0">
                                <ContentPresenter x:Name="ContentSite"
                                                ContentSource="Header"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Margin="15,8"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F0F8FF"/>
                                <Setter TargetName="Border" Property="BorderBrush" Value="#2196F3"/>
                                <Setter Property="Foreground" Value="#2196F3"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F5F5F5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Emoji TabItem Style - Renkli emoji'li tab'lar için -->
        <Style x:Key="EmojiTabItem" TargetType="TabItem" BasedOn="{StaticResource ModernTabItem}">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
            <Setter Property="TextOptions.TextFormattingMode" Value="Display"/>
            <Setter Property="TextOptions.TextRenderingMode" Value="ClearType"/>
        </Style>
        
        <!-- Modern TabControl Style -->
        <Style x:Key="ModernTabControl" TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabControl">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Tab Headers -->
                            <Border Grid.Row="0" 
                                    Background="White" 
                                    BorderBrush="#E0E0E0" 
                                    BorderThickness="0,0,0,1"
                                    Padding="20,0">
                                <TabPanel x:Name="HeaderPanel" 
                                         Panel.ZIndex="1" 
                                         Background="Transparent" 
                                         IsItemsHost="True"/>
                            </Border>
                            
                            <!-- Tab Content -->
                            <Border Grid.Row="1" 
                                    Background="Transparent" 
                                    BorderThickness="0"
                                    Padding="0"
                                    Margin="0">
                                <ContentPresenter x:Name="PART_SelectedContentHost" 
                                                ContentSource="SelectedContent"
                                                Margin="0"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Bold GroupBox Header Style -->
        <Style x:Key="BoldGroupBoxHeader" TargetType="GroupBox">
            <Setter Property="HeaderTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                   FontSize="16"
                                   FontWeight="Normal"
                                   Foreground="#333333"/>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Duplicate Converters -->
        <local:BooleanToObjectConverter x:Key="DuplicateBackgroundConverter" 
                                        TrueValue="#FFF3E0" 
                                        FalseValue="#E3F2FD"/>
        <local:BooleanToObjectConverter x:Key="DuplicateBorderConverter" 
                                        TrueValue="#FF9800" 
                                        FalseValue="#2196F3"/>
        <local:BooleanToObjectConverter x:Key="DuplicateForegroundConverter" 
                                        TrueValue="#E65100" 
                                        FalseValue="#1976D2"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Yerleşik Alert Panel -->
        <Border x:Name="AlertOverlay" 
                Background="#80000000"
                Panel.ZIndex="2000"
                Visibility="Collapsed">
            <Border x:Name="AlertPanel" 
                    Background="White"
                    CornerRadius="15"
                    BorderBrush="#2196F3"
                    BorderThickness="2"
                    Width="500"
                    Height="400"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Effect="{x:Null}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Alert Başlık -->
                    <Border Grid.Row="0" 
                            Background="#2196F3"
                            CornerRadius="13,13,0,0"
                            Height="60">
                        <TextBlock x:Name="AlertTitle" 
                                   Text="Uyarı"
                                   FontSize="18"
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>
                    
                    <!-- Alert Mesaj -->
                    <ScrollViewer Grid.Row="1" 
                                  VerticalScrollBarVisibility="Auto"
                                  Margin="25,20,25,20">
                        <TextBlock x:Name="AlertMessage" 
                                   Text=""
                                   FontSize="14"
                                   TextWrapping="Wrap"
                                   LineHeight="22"
                                   Foreground="#333333"
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                    </ScrollViewer>
                    
                    <!-- Alert Butonları -->
                    <StackPanel Grid.Row="2" 
                                Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                Margin="25,0,25,25">
                        <Button x:Name="AlertConfirmButton"
                                Content="Evet"
                                Width="120"
                                Height="40"
                                Margin="0,0,15,0"
                                Style="{StaticResource SuccessButton}"
                                FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                FontWeight="Bold"
                                Click="AlertConfirmButton_Click"/>
                        <Button x:Name="AlertCancelButton"
                                Content="İptal"
                                Width="120"
                                Height="40"
                                Style="{StaticResource DangerButton}"
                                FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                FontWeight="Bold"
                                Click="AlertCancelButton_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Border>
        
        <!-- Loading Overlay - Tüm ekranı kaplar -->
        <Border x:Name="LoadingOverlay" 
                Background="#CC000000"
                Visibility="Collapsed"
                Panel.ZIndex="1000"
                Grid.RowSpan="3">
            <Grid>
                <!-- Close Button -->
                <Button x:Name="btnCloseLoading" 
                        Content="✕" 
                        Style="{StaticResource DangerButton}"
                        Background="#F44336"
                        Foreground="White"
                        FontSize="16"
                        FontWeight="Bold"
                        Width="30"
                        Height="30"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Margin="0,-30,-30,0"
                        Click="btnCloseLoading_Click"
                        ToolTip="Yükleme işlemini durdur"
                        Panel.ZIndex="10"/>
                <Border Background="White" 
                        CornerRadius="4" 
                        Padding="40"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        MinWidth="250"
                        MinHeight="150">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Image x:Name="LoadingSpinner" 
                           Source="pack://application:,,,/sadece logo.png"
                           Width="60" 
                           Height="60"
                           Margin="0,0,0,20"
                           HorizontalAlignment="Center"
                           Stretch="Uniform">
                        <Image.RenderTransform>
                            <RotateTransform x:Name="SpinnerRotation" CenterX="30" CenterY="30"/>
                        </Image.RenderTransform>
                        <Image.Triggers>
                            <EventTrigger RoutedEvent="Image.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation 
                                            Storyboard.TargetName="SpinnerRotation"
                                            Storyboard.TargetProperty="Angle"
                                            From="0" To="360" 
                                            Duration="0:0:2"
                                            RepeatBehavior="Forever"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Image.Triggers>
                    </Image>
                    <TextBlock x:Name="LoadingText"
                               Text="Dönemler yükleniyor..."
                               FontSize="16"
                               FontWeight="Normal"
                               Foreground="#333"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,5"/>

                    <TextBlock x:Name="LoadingHintText"
                               Text="ESC tuşu ile işlemi durdurabilirsiniz"
                               FontSize="12"
                               FontWeight="Normal"
                               Foreground="#666"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,15"/>

                    <!-- Progress Bar -->
                    <Grid x:Name="ProgressContainer" 
                          Visibility="Collapsed"
                          Width="300"
                          Margin="0,0,0,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="8"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Progress Text -->
                        <TextBlock x:Name="ProgressText" 
                                   Grid.Row="0"
                                   Text="0 / 0 tamamlandı" 
                                   FontSize="12" 
                                   Foreground="#666"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,5"/>
                        
                        <!-- Progress Bar -->
                        <Border Grid.Row="1" 
                                Background="#E0E0E0" 
                                CornerRadius="4"
                                Height="8">
                            <Border x:Name="ProgressFill" 
                                    Background="#2196F3" 
                                    CornerRadius="4"
                                    HorizontalAlignment="Left"
                                    Width="0"/>
                        </Border>
                        
                        <!-- Progress Percentage -->
                        <TextBlock x:Name="ProgressPercentage" 
                                   Grid.Row="2"
                                   Text="0%" 
                                   FontSize="11" 
                                   Foreground="#666"
                                   HorizontalAlignment="Center"
                                   Margin="0,5,0,0"/>
                    </Grid>
                    
                    <!-- Error Information -->
                    <Grid x:Name="ErrorContainer" 
                          Visibility="Collapsed"
                          Width="300"
                          Margin="0,10,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Error Summary -->
                        <Border Grid.Row="0"
                                Background="#FFEBEE" 
                                BorderBrush="#F44336" 
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="8,6"
                                Margin="0,0,0,5">
                            <StackPanel>
                                <TextBlock x:Name="ErrorSummary" 
                                           Text="Hatalar: 0" 
                                           FontSize="11" 
                                           Foreground="#C62828"
                                           FontWeight="Bold"
                               HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Error Details -->
                        <ScrollViewer Grid.Row="1"
                                      MaxHeight="80"
                                      VerticalScrollBarVisibility="Auto"
                                      Margin="0,0,0,5">
                            <TextBlock x:Name="ErrorDetails" 
                                       Text="" 
                                       FontSize="10" 
                                       Foreground="#D32F2F"
                                       TextWrapping="Wrap"/>
                        </ScrollViewer>
                        
                        <!-- Timeout Info -->
                        <Border Grid.Row="2"
                                Background="#FFF3E0" 
                                BorderBrush="#FF9800" 
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="6,4"
                                Visibility="Collapsed">
                            <TextBlock x:Name="TimeoutInfo" 
                                       Text="Timeout: 0" 
                                       FontSize="10" 
                                       Foreground="#E65100"
                                       HorizontalAlignment="Center"/>
                        </Border>
                    </Grid>
                                    </StackPanel>
                </Border>
            </Grid>
        </Border>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#4CAF50" Padding="15,10" Height="80">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Güleryüz Logo -->
                <Image Grid.Column="0"
                       Source="pack://application:,,,/güleryüz logo (1)2.png" 
                       Width="180" 
                       Height="180"
                       Stretch="Uniform"
                       Margin="10,0,20,0"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Left"/>
                
                <!-- Text Content -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,0,0">
                    <TextBlock Text="📱 SMS Gönderim Sistemi" 
                               FontSize="24" 
                               FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                               Foreground="White"/>
                    <TextBlock Text="Onay Bekleyen Fişler İçin SMS Bildirimi" 
                               FontSize="16" 
                               FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                               Foreground="#e8f5e8"
                               Margin="0,2,0,0"/>
                </StackPanel>
                
            </Grid>
        </Border>
        
        <!-- Main Content -->
        <TabControl x:Name="tabControl" Grid.Row="1" Margin="20" Style="{StaticResource ModernTabControl}">
            <!-- Ana İşlem Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M22 2L11 13 M22 2l-7 20-4-9-9-4 20-7z" Fill="#4CAF50" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="SMS Gönderimi" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Dönem Seçimi ve SMS Alıcıları - Yan Yana -->
                    <Grid Grid.Row="1" Margin="0,10,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1.2*"/>
                            <ColumnDefinition Width="0.8*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Dönem Seçimi - Sol Taraf -->
                        <Border Grid.Column="0" 
                                Background="White" 
                                BorderThickness="1" 
                                BorderBrush="#E0E0E0" 
                                Margin="0,0,10,0" 
                                CornerRadius="4">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <!-- GroupBox Header -->
                                <Border Grid.Row="0" 
                                        Background="#E3F2FD" 
                                        BorderBrush="#2196F3" 
                                        BorderThickness="0,0,0,1"
                                        Padding="15,10">
                                    <TextBlock Text="📅 SMS Gönderilecek Dönemler"
                                               FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                               FontSize="16"
                                               FontWeight="Bold"
                                               Foreground="#333333"/>
                                </Border>
                                
                                <!-- Content -->
                                <Grid Grid.Row="1" Margin="15">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                            
                            <!-- Sabit kalan kısım -->
                            <Grid Grid.Row="0" Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <CheckBox Grid.Column="0" 
                                          Content="Tüm dönemleri seç" 
                                          FontWeight="Normal" 
                                          FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins" 
                                          FontSize="13" 
                                          Margin="0,0,20,10" 
                                          x:Name="chkSelectAll" 
                                          Checked="chkSelectAll_Checked" 
                                          Unchecked="chkSelectAll_Unchecked"/>
                                
                                <!-- Bugün Yine Gönder Switch -->
                                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,0,10">
                                    <TextBlock Text="Bugün Yine Gönder:" 
                                               FontSize="12" 
                                               Foreground="#666"
                                               VerticalAlignment="Center"
                                               Margin="0,0,8,0"/>
                                    <ToggleButton x:Name="toggleResendToday" 
                                                  Width="50" 
                                                  Height="24"
                                                  Margin="0,0,0,0"
                                                  Checked="toggleResendToday_Checked"
                                                  Unchecked="toggleResendToday_Unchecked"
                                                  ToolTip="Bugün gönderilmiş dönemler için tekrar SMS gönderimini etkinleştir">
                                        <ToggleButton.Template>
                                            <ControlTemplate TargetType="ToggleButton">
                                                <Border x:Name="Border" 
                                                        Background="#E0E0E0" 
                                                        CornerRadius="12" 
                                                        Width="50" 
                                                        Height="24">
                                                    <Ellipse x:Name="Thumb" 
                                                             Fill="White" 
                                                             Width="18" 
                                                             Height="18" 
                                                             HorizontalAlignment="Left" 
                                                             VerticalAlignment="Center" 
                                                             Margin="3,0,0,0"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsChecked" Value="True">
                                                        <Setter TargetName="Border" Property="Background" Value="#4CAF50"/>
                                                        <Setter TargetName="Thumb" Property="HorizontalAlignment" Value="Right"/>
                                                        <Setter TargetName="Thumb" Property="Margin" Value="0,0,3,0"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </ToggleButton.Template>
                                    </ToggleButton>
                                </StackPanel>
                                
                                <!-- İstatistik Badge'leri -->
                                <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,0,10">
                                    <!-- Toplam Veri Sayısı Badge -->
                                    <Border x:Name="TotalDataBadge" 
                                            Background="#E3F2FD" 
                                            BorderBrush="#2196F3" 
                                            BorderThickness="1" 
                                            CornerRadius="12" 
                                            Padding="8,4" 
                                            Margin="0,0,10,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="📊" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                            <TextBlock x:Name="txtTotalData" Text="Toplam: 0" FontSize="10" FontWeight="Medium" Foreground="#1976D2" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- Ön Onay Badge -->
                                    <Border x:Name="PreApprovalBadge" 
                                            Background="#E8F5E9" 
                                            BorderBrush="#4CAF50" 
                                            BorderThickness="1" 
                                            CornerRadius="12" 
                                            Padding="8,4" 
                                            Margin="0,0,10,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="✅" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                            <TextBlock x:Name="txtPreApproval" Text="Ön Onay: 0" FontSize="10" FontWeight="Medium" Foreground="#2E7D32" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- Onay Bekleyen Badge -->
                                    <Border x:Name="PendingApprovalBadge" 
                                            Background="#FFF3E0" 
                                            BorderBrush="#FF9800" 
                                            BorderThickness="1" 
                                            CornerRadius="12" 
                                            Padding="8,4" 
                                            Margin="0,0,10,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="⏳" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                            <TextBlock x:Name="txtPendingApproval" Text="Onay Bekleyen: 0" FontSize="10" FontWeight="Medium" Foreground="#E65100" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                    

                                </StackPanel>
                            </Grid>
                            
                            <!-- Scroll edilebilir kısım -->
                            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" MaxHeight="800">
                                <StackPanel x:Name="PeriodSelectionPanel">
                                    <!-- Dinamik olarak doldurulacak -->
                                </StackPanel>
                            </ScrollViewer>
                        </Grid>
                    </Grid>
                </Border>
                        
                        <!-- SMS Alıcıları Listesi - Sağ Taraf -->
                        <Border Grid.Column="1" 
                                Background="White" 
                                BorderThickness="1" 
                                BorderBrush="#E0E0E0" 
                                Margin="10,0,0,0" 
                                MinHeight="600" 
                                MaxHeight="1200"
                                CornerRadius="4">
                            <Grid VerticalAlignment="Stretch">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <!-- GroupBox Header -->
                                <Border Grid.Row="0" 
                                        Background="#E3F2FD" 
                                        BorderBrush="#2196F3" 
                                        BorderThickness="0,0,0,1"
                                        Padding="15,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="220"/>
                                            <ColumnDefinition Width="140"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="👥 SMS Alıcıları"
                                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                                   FontSize="16"
                                                   FontWeight="Bold"
                                                   Foreground="#333333"
                                                   VerticalAlignment="Center"/>
                                        <!-- Dönem Filtresi Dropdown -->
                                        <ComboBox x:Name="cmbPeriodFilter"
                                                  Grid.Column="1"
                                                  Margin="10,0,0,0"
                                                  Height="26"
                                                  VerticalAlignment="Center"
                                                  SelectionChanged="cmbPeriodFilter_SelectionChanged"/>
                                        <!-- Ay Filtresi Dropdown -->
                                        <ComboBox x:Name="cmbMonthFilter"
                                                  Grid.Column="2"
                                                  Margin="10,0,0,0"
                                                  Height="26"
                                                  VerticalAlignment="Center"
                                                  SelectionChanged="cmbMonthFilter_SelectionChanged"/>
                                        
                                        <!-- Filtreyi Uygula: filtrelerin sağına -->
                                        <Button x:Name="btnApplyRecipientFilter"
                                                Grid.Column="3"
                                                Content="✅ Filtreyi Uygula"
                                                Style="{StaticResource ModernButton}"
                                                Background="#4CAF50"
                                                FontSize="11"
                                                Height="26"
                                                Padding="8,2"
                                                Margin="10,0,0,0"
                                                VerticalAlignment="Center"
                                                Click="btnApplyRecipientFilter_Click"/>
                                    </Grid>
                                </Border>
                                
                                <!-- TabControl Content -->
                                <TabControl Grid.Row="1" 
                                           x:Name="recipientsTabControl" 
                                           Style="{StaticResource ModernTabControl}" 
                                           Margin="0" 
                                           BorderThickness="0"
                                           VerticalAlignment="Stretch"
                                           HorizontalAlignment="Stretch">
                            <!-- Tüm Alıcılar Tab -->
                            <TabItem Style="{StaticResource ModernTabItem}">
                                <TabItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="📋 Tüm Alıcılar" Margin="0,0,6,0" FontFamily="pack://application:,,,/Fonts/Poppins-SemiBold.ttf#Poppins" FontWeight="SemiBold"/>
                                        <Border Background="#E53935" CornerRadius="10" Padding="6,1" MinWidth="18">
                                            <TextBlock x:Name="badgeAllRecipients" Text="0" Foreground="White" FontSize="11" HorizontalAlignment="Center" TextAlignment="Center"/>
                                        </Border>
                                    </StackPanel>
                                </TabItem.Header>
                                <Grid Margin="5,2,5,0" VerticalAlignment="Stretch">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <!-- Üst Kontroller -->
                                    <Grid Grid.Row="0" Margin="10,5,10,2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        
                                        
                                        <TextBlock Grid.Column="1" 
                                                   x:Name="txtRecipientCount" 
                                                   Text="Seçili: 0 / Toplam: 0" 
                                                   FontSize="12" 
                                                   Foreground="#666"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"/>
                                        
                                        <Button x:Name="btnRefreshRecipients" 
                                                Grid.Column="2"
                                                Content="🔄 Yenile" 
                                                Style="{StaticResource ModernButton}"
                                                Background="#2196F3"
                                                FontSize="11"
                                                Height="25"
                                                Padding="8,2"
                                                Click="btnRefreshRecipients_Click"/>
                                        
                                        <!-- Filtreyi Uygula (üst başlığa taşındı) -->
                                    </Grid>
                                    
                                    <!-- Spacer -->
                                    <Border Grid.Row="1" Height="6" Background="Transparent"/>
                                    
                                    <!-- Alıcı Listesi -->
                                    <Border Grid.Row="2"
                                            Background="White"
                                            BorderThickness="1"
                                            BorderBrush="#E0E0E0"
                                            Margin="10,0,10,0"
                                            CornerRadius="4"
                                            Panel.ZIndex="1"
                                            VerticalAlignment="Stretch"
                                            HorizontalAlignment="Stretch"
                                            MaxHeight="600">
                                        <ListView x:Name="lstSmsRecipients" 
                                                  Background="Transparent"
                                                  BorderThickness="0"
                                                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                  ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                                                  Visibility="Visible"
                                                  VerticalAlignment="Top"
                                                  HorizontalAlignment="Stretch"
                                                  MaxHeight="580">
                                      
                                <!-- Placeholder for empty list -->
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                
                                <!-- Empty state placeholder -->
                                <ListView.Template>
                                    <ControlTemplate>
                                        <Grid>
                                            <ScrollViewer x:Name="ScrollViewer" 
                                                          HorizontalScrollBarVisibility="Hidden"
                                                          VerticalScrollBarVisibility="Auto">
                                                <ItemsPresenter />
                                            </ScrollViewer>
                                            
                                            <!-- Empty state message -->
                                            <Border x:Name="EmptyStateBorder"
                                                    Background="#F8F9FA"
                                                    BorderThickness="0"
                                                    Visibility="Collapsed">
                                                <StackPanel HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"
                                                            Margin="20">
                                                    <TextBlock Text="📱" 
                                                               FontSize="48" 
                                                               HorizontalAlignment="Center"
                                                               Margin="0,0,0,10"
                                                               Foreground="#6C757D"/>
                                                    <TextBlock Text="SMS Alıcıları"
                                                               FontSize="18"
                                                               FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                                               FontWeight="Bold"
                                                               HorizontalAlignment="Center"
                                                               Margin="0,0,0,5"
                                                               Foreground="#495057"/>
                                                    <TextBlock Text="Dönem seçip 'SMS Alıcılarını Getir' butonuna tıklayarak alıcıları yükleyebilirsiniz." 
                                                               FontSize="12" 
                                                               HorizontalAlignment="Center"
                                                               TextWrapping="Wrap"
                                                               MaxWidth="300"
                                                               Foreground="#6C757D"/>
                                                </StackPanel>
                                            </Border>
                                        </Grid>
                                    </ControlTemplate>
                                </ListView.Template>

                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    
                                                    <!-- Checkbox -->
                                                    <CheckBox Grid.Column="0" 
                                                              IsChecked="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}"
                                                              Margin="8,0,12,0"
                                                              VerticalAlignment="Center"
                                                              Width="20"
                                                              Height="20"/>
                                                    
                                                    <!-- Alıcı bilgileri -->
                                                    <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,2" HorizontalAlignment="Left" VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding Name}"
                                                                   FontWeight="Normal"
                                                                   FontSize="11"
                                                                   Foreground="#333"
                                                                   VerticalAlignment="Center"
                                                                   Cursor="Hand"
                                                                   PreviewMouseLeftButtonDown="RecipientName_PreviewMouseLeftButtonDown"/>
                                                        
                                                        <!-- Telefon numarası badge -->
                                                        <Border Background="#E8F5E9" 
                                                                BorderBrush="#4CAF50" 
                                                                BorderThickness="1" 
                                                                CornerRadius="4" 
                                                                Padding="6,2" 
                                                                Margin="8,0,15,0"
                                                                HorizontalAlignment="Left">
                                                            <TextBlock Text="{Binding FormattedPhone}" 
                                                                       FontWeight="Medium" 
                                                                       FontSize="12"
                                                                       Foreground="#2E7D32"
                                                                       VerticalAlignment="Center"/>
                                                        </Border>
                                                    </StackPanel>
                                                    
                                                    <!-- Dönem adı badge -->
                                                    <Border Grid.Column="3" 
                                                            Background="#E3F2FD" 
                                                            BorderBrush="#2196F3" 
                                                            BorderThickness="1" 
                                                            CornerRadius="4" 
                                                            Padding="8,3" 
                                                            Margin="0,0,0,0"
                                                            MinWidth="90"
                                                            HorizontalAlignment="Right"
                                                            VerticalAlignment="Center"
                                                            Width="Auto">
                                                        <TextBlock Text="{Binding PeriodName}" 
                                                                   FontWeight="Medium" 
                                                                   FontSize="10"
                                                                   Foreground="#1976D2"
                                                                   HorizontalAlignment="Center"
                                                                   VerticalAlignment="Center"
                                                                   TextWrapping="Wrap"/>
                                                    </Border>
                                                </Grid>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>
                                </Border>
                                </Grid>
                            </TabItem>
                            
                            <!-- Tekrar Eden Alıcılar Tab -->
                            <TabItem Style="{StaticResource ModernTabItem}">
                                <TabItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="🔄 Tekrar Eden Alıcılar" Margin="0,0,6,0" FontFamily="pack://application:,,,/Fonts/Poppins-SemiBold.ttf#Poppins" FontWeight="SemiBold"/>
                                        <Border Background="#E53935" CornerRadius="10" Padding="6,1" MinWidth="18">
                                            <TextBlock x:Name="badgeDuplicateRecipients" Text="0" Foreground="White" FontSize="11" HorizontalAlignment="Center" TextAlignment="Center"/>
                                        </Border>
                                    </StackPanel>
                                </TabItem.Header>
                                <Grid Margin="5,5,5,0" VerticalAlignment="Stretch">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <!-- Üst Kontroller -->
                                    <Grid Grid.Row="0" Margin="10,10,10,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <CheckBox x:Name="chkSelectAllDuplicates" 
                                                  Grid.Column="0"
                                                  Content="Tümünü Seç" 
                                                  FontWeight="Normal" 
                                                  FontSize="12"
                                                  Margin="0,0,10,0"
                                                  Checked="chkSelectAllDuplicates_Checked"
                                                  Unchecked="chkSelectAllDuplicates_Unchecked"/>
                                        
                                        <TextBlock Grid.Column="1" 
                                                   x:Name="txtDuplicateCount" 
                                                   Text="Seçili: 0 / Toplam: 0" 
                                                   FontSize="12" 
                                                   Foreground="#666"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"/>
                                        
                                        <Button x:Name="btnRefreshDuplicates" 
                                                Grid.Column="2"
                                                Content="🔄 Yenile" 
                                                Style="{StaticResource ModernButton}"
                                                Background="#FF9800"
                                                FontSize="11"
                                                Height="25"
                                                Padding="8,2"
                                                Click="btnRefreshDuplicates_Click"/>
                                    </Grid>
                                    
                                                                        <!-- Tekrar Eden Alıcı Listesi -->
                                    <Border Grid.Row="1"
                                            Background="White"
                                            BorderThickness="1"
                                            BorderBrush="#E0E0E0"
                                            Margin="10,0,10,0"
                                            CornerRadius="4"
                                            Panel.ZIndex="1"
                                            VerticalAlignment="Stretch"
                                            HorizontalAlignment="Stretch"
                                            Height="Auto">
                                        <ListView x:Name="lstDuplicateRecipients" 
                                                  Background="Transparent"
                                                  BorderThickness="0"
                                                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                  ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                                                  Visibility="Visible"
                                                  VerticalAlignment="Stretch"
                                                  HorizontalAlignment="Stretch"
                                                  Height="Auto">
                                              
                                        <!-- Placeholder for empty list -->
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                        
                                        <!-- Empty state placeholder -->
                                        <ListView.Template>
                                            <ControlTemplate>
                                                <Grid>
                                                    <ScrollViewer x:Name="ScrollViewer" 
                                                                  HorizontalScrollBarVisibility="Hidden"
                                                                  VerticalScrollBarVisibility="Auto">
                                                        <ItemsPresenter />
                                                    </ScrollViewer>
                                                    
                                                    <!-- Empty state message -->
                                                    <Border x:Name="EmptyStateBorder"
                                                            Background="#F8F9FA"
                                                            BorderThickness="0"
                                                            Visibility="Collapsed">
                                                        <StackPanel HorizontalAlignment="Center" 
                                                                    VerticalAlignment="Center"
                                                                    Margin="20">
                                                            <TextBlock Text="🔄" 
                                                                       FontSize="48" 
                                                                       HorizontalAlignment="Center"
                                                                       Margin="0,0,0,10"
                                                                       Foreground="#6C757D"/>
                                                            <TextBlock Text="Tekrar Eden Alıcılar"
                                                                       FontSize="18"
                                                                       FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                                                       FontWeight="Bold"
                                                                       HorizontalAlignment="Center"
                                                                       Margin="0,0,0,5"
                                                                       Foreground="#495057"/>
                                                            <TextBlock Text="Aynı isim ve telefon numarasına sahip alıcılar burada listelenecektir." 
                                                                       FontSize="12" 
                                                                       HorizontalAlignment="Center"
                                                                       TextWrapping="Wrap"
                                                                       MaxWidth="300"
                                                                       Foreground="#6C757D"/>
                                                        </StackPanel>
                                                    </Border>
                                                </Grid>
                                            </ControlTemplate>
                                        </ListView.Template>

                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <!-- Checkbox -->
                                            <CheckBox Grid.Column="0" 
                                                      IsChecked="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}"
                                                      Margin="8,0,12,0"
                                                      VerticalAlignment="Center"
                                                      Width="20"
                                                      Height="20"/>
                                            
                                            <!-- Alıcı bilgileri -->
                                            <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,2" HorizontalAlignment="Left" VerticalAlignment="Center">
                                                <!-- Tekrar eden alıcı ikonu -->
                                                <TextBlock Text="🔄" 
                                                           FontSize="12"
                                                           Margin="0,0,5,0"
                                                                   VerticalAlignment="Center"/>
                                                
                                                <TextBlock Text="{Binding Name}" 
                                                           FontWeight="Normal" 
                                                           FontSize="11"
                                                                   Foreground="#FF5722"
                                                           VerticalAlignment="Center"/>
                                                
                                                <!-- Telefon numarası badge -->
                                                        <Border Background="#FFF3E0" 
                                                                BorderBrush="#FF9800" 
                                                        BorderThickness="1" 
                                                        CornerRadius="4" 
                                                        Padding="6,2" 
                                                        Margin="8,0,15,0"
                                                        HorizontalAlignment="Left">
                                                    <TextBlock Text="{Binding FormattedPhone}" 
                                                               FontWeight="Medium" 
                                                               FontSize="12"
                                                                       Foreground="#E65100"
                                                               VerticalAlignment="Center"/>
                                                </Border>
                                            </StackPanel>
                                            
                                            <!-- Dönem adı badge -->
                                            <Border Grid.Column="3" 
                                                            Background="#FFEBEE" 
                                                            BorderBrush="#F44336" 
                                                    BorderThickness="1" 
                                                    CornerRadius="4" 
                                                    Padding="8,3" 
                                                    Margin="0,0,0,0"
                                                    MinWidth="90"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    Width="Auto">
                                                <TextBlock Text="{Binding PeriodName}" 
                                                           FontWeight="Medium" 
                                                           FontSize="10"
                                                                   Foreground="#C62828"
                                                           HorizontalAlignment="Center"
                                                           VerticalAlignment="Center"
                                                           TextWrapping="Wrap"/>
                                            </Border>
                                        </Grid>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                        </Border>
                        </Grid>
                            </TabItem>
                        </TabControl>
                    </Grid>
                </Border>
                </Grid>
                
                <!-- Boş alan - Daha fazla yer için -->
                <Grid Grid.Row="2" Margin="0,0,0,5" MinHeight="5">
                    <!-- Bu alan artık boş, daha fazla yer için -->
                </Grid>
                    
                    <!-- Action Buttons -->
                    <Grid Grid.Row="2" Margin="0,10,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <Button x:Name="btnLoadPeriods" 
                                Grid.Column="1"
                                Content="🔄 Dönemleri Yükle" 
                                Style="{StaticResource ModernButton}"
                                Background="#FF9800"
                                FontSize="14"
                                Height="35"
                                Margin="0,0,10,0"
                                Click="btnLoadPeriods_Click"/>
                        
                        <Button x:Name="btnStartSms" 
                                Grid.Column="2"
                                Content="📱 Seçili Dönemlere SMS Gönder" 
                                Style="{StaticResource SuccessButton}"
                                FontSize="14"
                                Height="35"
                                Margin="0,0,10,0"
                                IsEnabled="False"
                                Click="btnStartSms_Click"/>
                        
                        <Button x:Name="btnStopSms" 
                                Grid.Column="3"
                                Content="⏹️ Durdur" 
                                Style="{StaticResource DangerButton}"
                                FontSize="14"
                                Height="35"
                                IsEnabled="False"
                                Click="btnStopSms_Click"/>
                    </Grid>
                </Grid>
            </TabItem>
            
            <!-- SMS Geçmişi Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M3 12a9 9 0 1 0 18 0 9 9 0 0 0-18 0z M12 7v5l3 2 M12 1v3 M12 21v3" Fill="#9C27B0" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="SMS Geçmişi" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- İstatistik Kartları -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
                        <Border Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" 
                                CornerRadius="8" Padding="10" Margin="0,0,10,0" MinWidth="110">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,3">
                                    <TextBlock Text="📅" FontSize="14" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock Text="Bugün" FontSize="11" Foreground="#1976D2" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                                </StackPanel>
                                <TextBlock x:Name="txtTodayCount" Text="0" FontSize="20" Foreground="#2196F3" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#E8F5E8" BorderBrush="#4CAF50" BorderThickness="1" 
                                CornerRadius="8" Padding="10" Margin="0,0,10,0" MinWidth="110">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,3">
                                    <TextBlock Text="📊" FontSize="14" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock Text="Bu Hafta" FontSize="11" Foreground="#388E3C" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                                </StackPanel>
                                <TextBlock x:Name="txtWeekCount" Text="0" FontSize="20" Foreground="#4CAF50" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#FFF3E0" BorderBrush="#FF9800" BorderThickness="1" 
                                CornerRadius="8" Padding="10" Margin="0,0,10,0" MinWidth="110">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,3">
                                    <TextBlock Text="📈" FontSize="14" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock Text="Bu Ay" FontSize="11" Foreground="#F57C00" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                                </StackPanel>
                                <TextBlock x:Name="txtMonthCount" Text="0" FontSize="20" Foreground="#FF9800" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#FCE4EC" BorderBrush="#E91E63" BorderThickness="1" 
                                CornerRadius="8" Padding="10" MinWidth="110">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,3">
                                    <TextBlock Text="📊" FontSize="14" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock Text="Toplam" FontSize="11" Foreground="#C2185B" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                                </StackPanel>
                                <TextBlock x:Name="txtTotalCount" Text="0" FontSize="20" Foreground="#E91E63" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                    
                    <!-- Filtreler ve Export -->
                    <Grid Grid.Row="1" Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Sol taraf - Filtreler -->
                        <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Text="Filtrele:" VerticalAlignment="Center" Margin="0,0,10,0" FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins" FontWeight="Bold"/>
                            <TextBox x:Name="txtSearchFilter" Width="200" Height="35" Style="{StaticResource ModernTextBox}" 
                                     TextChanged="txtSearchFilter_TextChanged"
                                     ToolTip="Alıcı adı, telefon veya dönem adı ile arama yapın"
                                     VerticalAlignment="Center"/>
                            <Button x:Name="btnClearFilter" Content="Temizle" Style="{StaticResource ModernButton}" 
                                    Background="#9E9E9E" Margin="0,0,10,0" Height="35" Click="btnClearFilter_Click"/>
                            <Button x:Name="btnClearHistory" Content="Geçmişi Temizle" Style="{StaticResource DangerButton}" 
                                    Height="35" Click="btnClearHistory_Click" ToolTip="Tüm SMS geçmişini siler"/>
                        </StackPanel>
                        
                        <!-- Sağ taraf - Excel Export -->
                        <Button x:Name="btnExportExcel" 
                                Grid.Column="1"
                                Content="📊 Excel'e Aktar" 
                                Style="{StaticResource ModernButton}"
                                Background="#217346"
                                Foreground="White"
                                FontSize="12"
                                Height="35"
                                Padding="12,0"
                                Click="btnExportExcel_Click"
                                ToolTip="SMS geçmişini Excel dosyası olarak dışa aktar"/>
                    </Grid>
                    
                    <!-- SMS Geçmişi Tablosu -->
                    <DataGrid x:Name="dgSmsHistory" Grid.Row="2" 
                              AutoGenerateColumns="False" 
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              CanUserReorderColumns="True"
                              CanUserResizeColumns="True"
                              CanUserResizeRows="False"
                              CanUserSortColumns="True"
                              GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              AlternatingRowBackground="#F5F5F5"
                              RowBackground="White"
                              BorderBrush="#E0E0E0"
                              BorderThickness="1"
                              Margin="0,0,0,10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Alıcı Adı" Binding="{Binding RecipientName}" Width="*" MinWidth="150"/>
                            <DataGridTextColumn Header="Telefon" Binding="{Binding FormattedPhone}" Width="150"/>
                            <DataGridTextColumn Header="Dönem" Binding="{Binding PeriodName}" Width="*" MinWidth="200"/>
                            <DataGridTextColumn Header="Gönderim Zamanı" Binding="{Binding FormattedSentTime}" Width="200"/>
                            <DataGridTextColumn Header="Durum" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
            
            <!-- İşlem Logları Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M14.5 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z M14 3.5L18.5 8H14V3.5zM6 4h6v5h6v11H6V4z M8 10h6v1H8v-1z M8 12h6v1H8v-1z M8 14h4v1H8v-1z" Fill="#2196F3" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="İşlem Logları" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20" Cursor="Arrow">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Log Başlığı -->
                        <TextBlock Grid.Row="0" 
                                   Text="📋 İşlem Logları" 
                                   FontSize="18" 
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                   FontWeight="Normal" 
                                   Margin="0,0,0,20"
                                   HorizontalAlignment="Center"/>
                        
                        <!-- Log İçeriği -->
                        <TextBox Grid.Row="1"
                                 x:Name="txtLog" 
                                 IsReadOnly="True" 
                                 Background="#FAFAFA" 
                                 BorderThickness="1"
                                 BorderBrush="#E0E0E0"
                                 FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                                 FontSize="12"
                                 TextWrapping="Wrap"
                                 Margin="0"
                                 Padding="15"
                                 VerticalAlignment="Stretch"
                                 HorizontalAlignment="Stretch"
                                 VerticalScrollBarVisibility="Auto"
                                 HorizontalScrollBarVisibility="Auto"/>
                    </Grid>
                </ScrollViewer>
            </TabItem>
            
            <!-- Ayarlar Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M12.22 2h-.44a2 2 0 00-2 2v.18a2 2 0 01-1 1.73l-.43.25a2 2 0 01-2 0l-.15-.08a2 2 0 00-2.73.73l-.22.38a2 2 0 00.73 2.73l.15.1a2 2 0 011 1.72v.51a2 2 0 01-1 1.74l-.15.09a2 2 0 00-.73 2.73l.22.38a2 2 0 002.73.73l.15-.08a2 2 0 012 0l.43.25a2 2 0 011 1.73V20a2 2 0 002 2h.44a2 2 0 002-2v-.18a2 2 0 011-1.73l.43-.25a2 2 0 012 0l.15.08a2 2 0 002.73-.73l.22-.39a2 2 0 00-.73-2.73l-.15-.08a2 2 0 01-1-1.74v-.5a2 2 0 011-1.74l.15-.09a2 2 0 00.73-2.73l-.22-.38a2 2 0 00-2.73-.73l-.15.08a2 2 0 01-2 0l-.43-.25a2 2 0 01-1-1.73V4a2 2 0 00-2-2z M12 6.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z" Fill="#FF9800" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Ayarlar" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20" Cursor="Arrow">
                    <StackPanel>
                        <!-- Otomatik Giriş Ayarları -->
                        <GroupBox Header="🔐 Otomatik Giriş Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <CheckBox x:Name="chkAutoLogin" 
                                          Grid.Row="0" Grid.ColumnSpan="2"
                                          Content="Otomatik girişi etkinleştir" 
                                          FontWeight="Normal"
                                          FontSize="14"
                                          Margin="0,0,0,15"
                                          Checked="chkAutoLogin_Changed"
                                          Unchecked="chkAutoLogin_Changed"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Kullanıcı Adı:" VerticalAlignment="Center" Margin="0,0,0,10" FontSize="14"/>
                                <TextBox x:Name="txtUsername" Grid.Row="1" Grid.Column="1" Style="{StaticResource ModernTextBox}" Margin="0,0,0,10" Height="38">
                                    <TextBox.Template>
                                        <ControlTemplate TargetType="TextBox">
                                            <Border Background="{TemplateBinding Background}"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    CornerRadius="8">
                                                <ScrollViewer x:Name="PART_ContentHost" 
                                                              Margin="12,8,12,8"
                                                              VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </TextBox.Template>
                                </TextBox>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Şifre:" VerticalAlignment="Center" Margin="0,0,0,10" FontSize="14"/>
                                <PasswordBox x:Name="txtPassword" Grid.Row="2" Grid.Column="1" Style="{StaticResource ModernPasswordBox}" Margin="0,0,0,10" Height="38">
                                    <PasswordBox.Template>
                                        <ControlTemplate TargetType="PasswordBox">
                                            <Border Background="{TemplateBinding Background}"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    CornerRadius="8">
                                                <ScrollViewer x:Name="PART_ContentHost" 
                                                              Margin="12,8,12,8"
                                                              VerticalAlignment="Center"
                                                              FontSize="14"/>
                                            </Border>
                                        </ControlTemplate>
                                    </PasswordBox.Template>
                                </PasswordBox>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Firma Kodu:" VerticalAlignment="Center" Margin="0,0,0,10" FontSize="14"/>
                                <ComboBox x:Name="cmbCompanyCode" Grid.Row="3" Grid.Column="1" Style="{StaticResource ModernComboBox}" Margin="0,0,0,10" Height="38">
                                    <ComboBoxItem Content="ikb"/>
                                    <ComboBoxItem Content="ngs"/>
                                    <ComboBoxItem Content="gyz"/>
                                </ComboBox>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="TOTP Secret:" VerticalAlignment="Center" Margin="0,0,0,0" FontSize="14"/>
                                <Grid Grid.Row="4" Grid.Column="1" Margin="0,0,0,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <PasswordBox x:Name="txtTotpSecret" Grid.Column="0" Style="{StaticResource ModernPasswordBox}" Height="50" Visibility="Visible">
                                        <PasswordBox.Template>
                                            <ControlTemplate TargetType="PasswordBox">
                                                <Border Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="{TemplateBinding BorderThickness}"
                                                        CornerRadius="8">
                                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                                  Margin="12,8,12,8"
                                                                  VerticalAlignment="Center"
                                                                  FontSize="14"/>
                                                </Border>
                                            </ControlTemplate>
                                        </PasswordBox.Template>
                                    </PasswordBox>
                                    <TextBox x:Name="txtTotpSecretVisible" Grid.Column="0" Style="{StaticResource ModernTextBox}" Height="50" Visibility="Collapsed">
                                        <TextBox.Template>
                                            <ControlTemplate TargetType="TextBox">
                                                <Border Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="{TemplateBinding BorderThickness}"
                                                        CornerRadius="8">
                                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                                  Margin="12,8,12,8"
                                                                  VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </TextBox.Template>
                                    </TextBox>
                                    <Button x:Name="btnToggleTotpVisibility" 
                                            Grid.Column="1"
                                            Content="👁️" 
                                            Style="{StaticResource ModernButton}"
                                            Background="#FF9800"
                                            Width="38"
                                            Height="38"
                                            Padding="0"
                                            Margin="5,0,0,0"
                                            FontSize="14"
                                            Click="btnToggleTotpVisibility_Click"
                                            ToolTip="TOTP Secret'ı göster/gizle"/>
                                    <Button x:Name="btnTotpInfo" 
                                            Grid.Column="2"
                                            Content="ℹ️" 
                                            Style="{StaticResource ModernButton}"
                                            Background="#2196F3"
                                            Width="38"
                                            Height="38"
                                            Padding="0"
                                            Margin="5,0,0,0"
                                            FontSize="14"
                                            Click="btnTotpInfo_Click"
                                            ToolTip="TOTP Secret nasıl edinilir?"/>
                                </Grid>
                                
                                <TextBlock Grid.Row="5" Grid.Column="0" Text="Hedef URL:" VerticalAlignment="Center" FontSize="14"/>
                                <TextBox x:Name="txtTargetUrl" Grid.Row="5" Grid.Column="1" Style="{StaticResource ModernTextBox}" Height="38">
                                    <TextBox.Template>
                                        <ControlTemplate TargetType="TextBox">
                                            <Border Background="{TemplateBinding Background}"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    CornerRadius="8">
                                                <ScrollViewer x:Name="PART_ContentHost" 
                                                              Margin="12,8,12,8"
                                                              VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </TextBox.Template>
                                </TextBox>
                            </Grid>
                        </GroupBox>
                        
                        <!-- SMS Gönderim Ayarları -->
                        <GroupBox Header="📱 SMS Gönderim Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <CheckBox x:Name="chkHeadlessMode" 
                                          Grid.Row="0" Grid.ColumnSpan="2"
                                          Content="Gizli modu etkinleştir (Tarayıcı arka planda çalışır)" 
                                          FontWeight="Normal"
                                          FontSize="14"
                                          Margin="0,0,0,10"
                                          Checked="chkHeadlessMode_Changed"
                                          Unchecked="chkHeadlessMode_Changed"
                                          ToolTip="Bu seçenek işaretliyse tarayıcı görünmez modda çalışır. İşaretli değilse tarayıcı penceresi görünür olur."/>
                                

                            </Grid>
                        </GroupBox>
                        
                        <!-- Ayar Butonları -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Cursor="Arrow">
                            <Button x:Name="btnResetSettings" 
                                    Content="🔄 Sıfırla" 
                                    Style="{StaticResource ModernButton}"
                                    Background="#757575"
                                    Margin="0,0,10,0"
                                    FontSize="14"
                                    Height="38"
                                    Click="btnResetSettings_Click"/>
                            <Button x:Name="btnSaveSettings" 
                                    Content="💾 Kaydet" 
                                    Style="{StaticResource SuccessButton}"
                                    FontSize="14"
                                    Height="38"
                                    Click="btnSaveSettings_Click"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Hakkında Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" Fill="#607D8B" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Hakkında" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <ScrollViewer Padding="20" Cursor="Arrow">
                    <StackPanel>
                        <TextBlock Text="📱 SMS Gönderim Sistemi" 
                                   FontSize="24" 
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                   FontWeight="Normal" 
                                   Margin="0,0,0,20"
                                   HorizontalAlignment="Center"/>
                        
                        <Border Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1" 
                                CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                            <StackPanel>
                                <TextBlock Text="📋 Özellikler:" FontSize="16" FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins" FontWeight="Normal" Margin="0,0,0,10"/>
                                <TextBlock Text="• Otomatik login ve 2FA desteği" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="• Onay bekleyen fişler için SMS bildirimi" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="• Toplu SMS gönderimi" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="• Dönem bazlı filtreleme" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="• Gerçek zamanlı ilerleme takibi" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="• Modern ve kullanıcı dostu arayüz" Margin="0,0,0,5" FontSize="14"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#E8F5E9" BorderBrush="#4CAF50" BorderThickness="1" 
                                CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                            <StackPanel>
                                <TextBlock Text="ℹ️ Kullanım:" FontSize="16" FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins" FontWeight="Normal" Margin="0,0,0,10"/>
                                <TextBlock Text="1. Ayarlar sekmesinden login bilgilerinizi girin" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="2. Ana işlem sekmesinde dönemleri yükleyin" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="3. SMS göndermek istediğiniz dönemleri seçin" Margin="0,0,0,5" FontSize="14"/>
                                <TextBlock Text="4. 'SMS Gönder' butonuna tıklayın" Margin="0,0,0,5" FontSize="14"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#FFF3E0" BorderBrush="#FF9800" BorderThickness="1" 
                                CornerRadius="8" Padding="20" Cursor="Arrow">
                            <StackPanel>
                                <TextBlock Text="Furkan ÖZMEN tarafından geliştirilmiştir." 
                                           FontSize="14" 
                                           FontWeight="Normal"
                                           Foreground="#E65100"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" Text="Durum:" Margin="0,0,10,0" VerticalAlignment="Center" FontSize="12"/>
                <TextBlock x:Name="txtStatus" Grid.Column="1" Text="Hazır" VerticalAlignment="Center" FontSize="12"/>
                <TextBlock x:Name="txtDateTime" Grid.Column="2" Text="{Binding Source={x:Static sys:DateTime.Now}, StringFormat='dd.MM.yyyy HH:mm'}" VerticalAlignment="Center" FontSize="12"/>
            </Grid>
        </Border>
    </Grid>
</Window> 