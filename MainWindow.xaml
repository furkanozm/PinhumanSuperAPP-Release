<Window x:Class="WebScraper.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WebScraper"
        Title="Pinhuman SuperApp - Güleryüz Group"
        Height="800" Width="1000"
        WindowStartupLocation="CenterScreen"
        MinHeight="750" MinWidth="800"
        FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
        Background="#F8F9FA"
        >
    
        <Window.Resources>

        <!-- Modern UI Styles -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Height" Value="38"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" 
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter x:Name="ContentPresenter" 
                                            HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="#CCCCCC"/>
                                <Setter TargetName="ContentPresenter" Property="Opacity" Value="0.5"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#1976D2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="FontWeight" Value="Normal"/>
        </Style>
        
        <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#F44336"/>
            <Setter Property="FontWeight" Value="Normal"/>
        </Style>
        
        <Style x:Key="StartButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" 
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter x:Name="ContentPresenter" 
                                            HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"
                                            Margin="0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="#CCCCCC"/>
                                <Setter TargetName="ContentPresenter" Property="Opacity" Value="0.5"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#388E3C"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        

        
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="Padding" Value="18,8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton x:Name="ToggleButton"
                                          Grid.Column="2"
                                          Focusable="false"
                                          IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                          ClickMode="Press">
                                <ToggleButton.Template>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Border Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="8">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition Width="20"/>
                                                </Grid.ColumnDefinitions>
                                                <Path x:Name="Arrow"
                                                      Grid.Column="1"
                                                      Fill="#666666"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"
                                                      Data="M 0 0 L 4 4 L 8 0 Z"/>
                                            </Grid>
                                        </Border>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>
                            <ContentPresenter x:Name="ContentSite"
                                              IsHitTestVisible="False"
                                              Content="{TemplateBinding SelectionBoxItem}"
                                              ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                              ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                              Margin="18,8,30,8"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Left"/>
                            <TextBox x:Name="PART_EditableTextBox"
                                     Style="{x:Null}"
                                     Template="{DynamicResource ComboBoxTextBox}"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Center"
                                     Margin="10,8,30,8"
                                     Focusable="True"
                                     Background="Transparent"
                                     Visibility="Hidden"
                                     IsReadOnly="{TemplateBinding IsReadOnly}"/>
                            <Popup x:Name="Popup"
                                   Placement="Bottom"
                                   IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Slide">
                                <Grid x:Name="DropDown"
                                      SnapsToDevicePixels="True"
                                      MinWidth="{TemplateBinding ActualWidth}"
                                      MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border x:Name="DropDownBorder"
                                            Background="White"
                                            BorderThickness="1"
                                            BorderBrush="#E0E0E0"
                                            CornerRadius="8"/>
                                    <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained"/>
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEditable" Value="true">
                                <Setter Property="IsTabStop" Value="false"/>
                                <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="ModernPasswordBox" TargetType="PasswordBox">
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Emoji TextBlock Style - Renkli emoji'ler için -->
        <Style x:Key="EmojiTextBlock" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="TextOptions.TextFormattingMode" Value="Display"/>
            <Setter Property="TextOptions.TextRenderingMode" Value="ClearType"/>
        </Style>
        
        <!-- Emoji Button Style - Renkli emoji'li butonlar için -->
        <Style x:Key="EmojiButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="TextOptions.TextFormattingMode" Value="Display"/>
            <Setter Property="TextOptions.TextRenderingMode" Value="ClearType"/>
        </Style>
        
        <!-- Modern TabItem Style -->
        <Style x:Key="ModernTabItem" TargetType="TabItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,20"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
            <Setter Property="MinWidth" Value="140"/>
            <Setter Property="MinHeight" Value="50"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Grid>
                            <Border x:Name="Border" 
                                    Background="Transparent" 
                                    BorderThickness="0,0,0,3"
                                    BorderBrush="Transparent"
                                    CornerRadius="8,8,0,0">
                                <ContentPresenter x:Name="ContentSite"
                                                ContentSource="Header"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Margin="0,8"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F0F8FF"/>
                                <Setter TargetName="Border" Property="BorderBrush" Value="#2196F3"/>
                                <Setter Property="Foreground" Value="#2196F3"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F5F5F5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Emoji TabItem Style - Renkli emoji'li tab'lar için -->
        <Style x:Key="EmojiTabItem" TargetType="TabItem" BasedOn="{StaticResource ModernTabItem}">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
            <Setter Property="TextOptions.TextFormattingMode" Value="Display"/>
            <Setter Property="TextOptions.TextRenderingMode" Value="ClearType"/>
        </Style>
        
        <!-- Modern TabControl Style -->
        <Style x:Key="ModernTabControl" TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabControl">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Tab Headers -->
                            <Border Grid.Row="0" 
                                    Background="White" 
                                    BorderBrush="#E0E0E0" 
                                    BorderThickness="0,0,0,1"
                                    Padding="20,0">
                                <TabPanel x:Name="HeaderPanel" 
                                         Panel.ZIndex="1" 
                                         Background="Transparent" 
                                         IsItemsHost="True"/>
                            </Border>
                            
                            <!-- Tab Content -->
                            <Border Grid.Row="1" 
                                    Background="White" 
                                    BorderThickness="0">
                                <ContentPresenter x:Name="PART_SelectedContentHost" 
                                                ContentSource="SelectedContent"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Rounded ProgressBar Style -->
        <Style x:Key="RoundedProgressBar" TargetType="ProgressBar">
            <Setter Property="Background" Value="#E0E0E0"/>
            <Setter Property="Foreground" Value="#4CAF50"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid x:Name="GridRoot" SnapsToDevicePixels="true">
                            <Border x:Name="PART_Track" Background="{TemplateBinding Background}" CornerRadius="10"/>
                            <Border x:Name="PART_Indicator" Background="{TemplateBinding Foreground}" CornerRadius="10" HorizontalAlignment="Left"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Bold GroupBox Header Style -->
        <Style x:Key="BoldGroupBoxHeader" TargetType="GroupBox">
            <Setter Property="HeaderTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                   FontSize="14"
                                   FontWeight="Normal"
                                   Foreground="#333333"/>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid>
        <!-- Toast Notification Area -->
        <Border x:Name="ToastArea" 
                HorizontalAlignment="Right" 
                VerticalAlignment="Top" 
                Margin="20,20,20,0"
                Panel.ZIndex="1000"
                Visibility="Collapsed"
                Opacity="0"
                RenderTransformOrigin="0.5,0.5">
            <Border.RenderTransform>
                <TransformGroup>
                    <ScaleTransform x:Name="ToastScale" ScaleX="0.8" ScaleY="0.8"/>
                    <TranslateTransform x:Name="ToastTranslate" Y="-20"/>
                </TransformGroup>
            </Border.RenderTransform>
            <Border Background="#333333" 
                    CornerRadius="8" 
                    Padding="15,12"
                    Effect="{x:Null}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock x:Name="ToastIcon" 
                               Text="⚠️" 
                               FontSize="16" 
                               Foreground="White"
                               VerticalAlignment="Center" 
                               Margin="0,0,10,0"/>
                    <TextBlock x:Name="ToastMessage" 
                               Text="" 
                               FontSize="14" 
                               Foreground="White" 
                               VerticalAlignment="Center"
                               TextWrapping="Wrap"
                               MaxWidth="300"/>
                </StackPanel>
            </Border>
        </Border>
        
        <!-- Modal Overlay - Manuel Gönderim Modalı için -->
        <Border x:Name="ModalOverlay" 
                Background="#60000000"
                Panel.ZIndex="1500"
                Visibility="Collapsed"/>
        
        <!-- Yerleşik Alert Panel -->
        <Border x:Name="AlertOverlay" 
                Background="#80000000"
                Panel.ZIndex="2000"
                Visibility="Collapsed">
            <Border x:Name="AlertPanel" 
                    Background="White"
                    CornerRadius="15"
                    BorderBrush="#2196F3"
                    BorderThickness="2"
                    Width="500"
                    Height="400"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Effect="{x:Null}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Alert Başlık -->
                    <Border Grid.Row="0" 
                            Background="#2196F3"
                            CornerRadius="13,13,0,0"
                            Height="60">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" >
                                <Image Source="app.ico" Width="20" Height="20" Stretch="Uniform" Margin="0,0,8,0"/>
                                <TextBlock x:Name="AlertTitle" 
                                           Text="Uyarı"
                                           FontSize="18"
                                           FontWeight="Bold"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- Alert Mesaj -->
                    <ScrollViewer Grid.Row="1" 
                                  VerticalScrollBarVisibility="Auto"
                                  Margin="25,20,25,20">
                        <TextBlock x:Name="AlertMessage" 
                                   Text=""
                                   FontSize="14"
                                   TextWrapping="Wrap"
                                   LineHeight="22"
                                   Foreground="#333333"
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                    </ScrollViewer>
                    
                    <!-- Alert Butonları -->
                    <StackPanel Grid.Row="2" 
                                Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                Margin="25,0,25,25">
                        <Button x:Name="AlertConfirmButton"
                                Content="Evet"
                                Width="120"
                                Height="40"
                                Margin="0,0,15,0"
                                Style="{StaticResource SuccessButton}"
                                Click="AlertConfirmButton_Click"/>
                        <Button x:Name="AlertCancelButton"
                                Content="İptal"
                                Width="120"
                                Height="40"
                                Style="{StaticResource DangerButton}"
                                Click="AlertCancelButton_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Border>
        
        <!-- Giriş Ekranı -->
        <Grid x:Name="LoginPanel" Background="White" Panel.ZIndex="10" Visibility="Visible">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Giriş Formu -->
            <Border Grid.Row="1" Background="White" 
                    BorderBrush="#E0E0E0" BorderThickness="2" 
                    CornerRadius="15" 
                    Width="480" 
                    Margin="0,0,0,0" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Center"
                    >
                <StackPanel Margin="40,30" TextElement.FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins">
                    <!-- Başlık -->
                    <TextBlock Text="Pinhuman SuperAPP" 
                               FontSize="24" 
                               FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                               Foreground="#0d47a1"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,5"/>
                    
                    <!-- Logo Container -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,30" Panel.ZIndex="10">
                        
                        <!-- Güleryüz Logo -->
                        <Border Background="#0d47a1" 
                                CornerRadius="8" 
                                Height="50"
                                Width="140"
                                Margin="0,0,10,0"
                                Cursor="Hand"
                                Panel.ZIndex="10"
                                MouseLeftButtonDown="LogoBorder_MouseLeftButtonDown">
                            <Image Source="pack://application:,,,/güleryüz logo (1)2.png" 
                                   Width="120" Height="120" 
                                   Stretch="Uniform" 
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                        </Border>
                        
                        <!-- Pinhuman Logo -->
                        <Border Background="#0d47a1" 
                                CornerRadius="8" 
                                Height="50"
                                Width="140"
                                Cursor="Hand"
                                Panel.ZIndex="10"
                                MouseLeftButtonDown="PinhumanLogo_MouseLeftButtonDown">
                            <Image Source="pack://application:,,,/logoya.png" 
                                   Width="120" Height="120" 
                                   Stretch="Uniform" 
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                    
                    <!-- Giriş Mesajı -->
                    <TextBlock x:Name="txtLoginMessage" 
                               Text="Sisteme giriş yapmak için email ve şifrenizi girin:" 
                               FontSize="14" 
                               FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                               Foreground="#333"
                               HorizontalAlignment="Center"
                               TextAlignment="Center"
                               TextWrapping="Wrap"
                               Margin="0,0,0,15"/>
                    
                    <!-- Email Label -->
                    <TextBlock Text="Email:" 
                               FontSize="14" 
                               Foreground="#333"
                               HorizontalAlignment="Left"
                               Margin="0,0,0,5"/>
                    
                    <!-- Email Girişi -->
                    <TextBox x:Name="txtLoginEmail" 
                             Style="{StaticResource ModernTextBox}" 
                             FontSize="14"
                             Margin="0,0,0,0"
                             Height="45"
                             IsEnabled="True"
                             KeyDown="txtLoginEmail_KeyDown"
                             Text=""
                             TextChanged="txtLoginEmail_TextChanged">
                        <TextBox.Template>
                            <ControlTemplate TargetType="TextBox">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8">
                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                  Margin="0,0,0,0"
                                                  VerticalAlignment="Center"
                                                  FontSize="14"/>
                                </Border>
                            </ControlTemplate>
                        </TextBox.Template>
                    </TextBox>
                    
                    <!-- Şifre Label -->
                    <TextBlock Text="Şifre:" 
                               FontSize="14" 
                               Foreground="#333"
                               HorizontalAlignment="Left"
                               Margin="0,0,0,5"/>
                    
                    <!-- Şifre Girişi -->
                    <PasswordBox x:Name="txtLoginPassword" 
                                 Style="{StaticResource ModernPasswordBox}" 
                                 FontSize="16"
                                 Margin="0,0,0,10"
                                 Height="45"
                                 IsEnabled="True"
                                 PasswordChar="*"
                                 KeyDown="txtLoginPassword_KeyDown">
                        <PasswordBox.Template>
                            <ControlTemplate TargetType="PasswordBox">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8">
                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                  Margin="8,0,8,0"
                                                  VerticalAlignment="Center"
                                                  FontSize="16"/>
                                </Border>
                            </ControlTemplate>
                        </PasswordBox.Template>
                    </PasswordBox>
                    
                    <!-- Beni Hatırla Checkbox -->
                    <CheckBox x:Name="chkRememberMe" 
                              Content="Beni Hatırla" 
                              FontSize="12" 
                              Foreground="#666"
                              Margin="0,0,0,10"
                              HorizontalAlignment="Left"
                              VerticalAlignment="Center">
                        <CheckBox.Template>
                            <ControlTemplate TargetType="CheckBox">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <Border Grid.Column="0" 
                                            Width="16" 
                                            Height="16" 
                                            BorderBrush="#CCC" 
                                            BorderThickness="1" 
                                            CornerRadius="2" 
                                            Background="White" 
                                            Margin="0,0,8,0">
                                        <Path x:Name="CheckMark" 
                                              Data="M1,5 L4,8 L8,2" 
                                              Stroke="#4CAF50" 
                                              StrokeThickness="2" 
                                              Visibility="Collapsed"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <ContentPresenter Grid.Column="1" 
                                                    Content="{TemplateBinding Content}" 
                                                    VerticalAlignment="Center"/>
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsChecked" Value="True">
                                        <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                        <Setter TargetName="CheckMark" Property="Stroke" Value="#4CAF50"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </CheckBox.Template>
                    </CheckBox>
                    
                    <!-- Şifre Tekrarı Label -->
                    <TextBlock Text="Şifre Tekrarı:" 
                               FontSize="14" 
                               Foreground="#333"
                               HorizontalAlignment="Left"
                               Margin="0,0,0,5"
                               Visibility="Collapsed"/>
                    
                    <!-- Şifre Tekrarı (İlk giriş için) -->
                    <PasswordBox x:Name="txtPasswordConfirm" 
                                 Style="{StaticResource ModernPasswordBox}" 
                                 FontSize="16"
                                 Margin="0,0,0,20"
                                 Height="45"
                                 IsEnabled="True"
                                 PasswordChar="*"
                                 Visibility="Collapsed">
                        <PasswordBox.Template>
                            <ControlTemplate TargetType="PasswordBox">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8">
                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                  Margin="10,0,0,0"
                                                  VerticalAlignment="Center"
                                                  FontSize="16"/>
                                </Border>
                            </ControlTemplate>
                        </PasswordBox.Template>
                    </PasswordBox>
                    
                    <!-- Giriş Butonu -->
                    <Button x:Name="btnLogin" 
                            Style="{StaticResource ModernButton}"
                            FontSize="13"
                            Height="45"
                            Click="btnLogin_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🔐" FontSize="15" Margin="0,0,8,0"/>
                            <TextBlock Text="Giriş Yap" FontSize="13"/>
                        </StackPanel>
                    </Button>
                    
                    <!-- Şifremi Unuttum Butonu -->
                    <Button x:Name="btnForgotPassword" 
                            Background="#E3F2FD"
                            Foreground="#1976D2"
                            BorderBrush="#2196F3"
                            BorderThickness="1"
                            FontSize="12"
                            Height="45"
                            Margin="0,8,0,0"
                            Padding="10,5"
                            Cursor="Hand"
                            Click="btnForgotPassword_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📧" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="#1976D2"/>
                            <TextBlock Text="Şifremi Unuttum" FontSize="12" VerticalAlignment="Center" Foreground="#1976D2"/>
                        </StackPanel>
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8">
                                    <ContentPresenter HorizontalAlignment="Center" 
                                                    VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#BBDEFB"/>
                                        <Setter Property="BorderBrush" Value="#1976D2"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    
                    <!-- Kullanıcı Talebinde Bulun Butonu -->
                    <Button x:Name="btnUserRequest" 
                            Background="#FFF3E0"
                            Foreground="#E65100"
                            BorderBrush="#FF5722"
                            BorderThickness="1"
                            FontSize="12"
                            Height="45"
                            Margin="0,8,0,0"
                            Padding="10,5"
                            Cursor="Hand"
                            Click="btnUserRequest_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="👤" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="#E65100"/>
                            <TextBlock Text="Kullanıcı Talebinde Bulun" FontSize="12" VerticalAlignment="Center" Foreground="#E65100"/>
                        </StackPanel>
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8">
                                    <ContentPresenter HorizontalAlignment="Center" 
                                                    VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#FFE0B2"/>
                                        <Setter Property="BorderBrush" Value="#E65100"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    
                    <!-- Hata Mesajı -->
                    <TextBlock x:Name="txtLoginError" 
                               Text="" 
                               FontSize="12" 
                               Foreground="#f44336"
                               HorizontalAlignment="Center"
                               TextWrapping="Wrap"
                               Margin="0,15,0,0"
                               Visibility="Collapsed"/>
                </StackPanel>
            </Border>
        </Grid>
        
        <!-- Ana Uygulama -->
        <Grid x:Name="MainPanel" Visibility="Collapsed">
            <!-- Header -->
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
        
        <!-- Header Section -->
        <Border Grid.Row="0" Background="#0d47a1" Padding="15,10" Height="100">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Logo - Sol üstte -->
                <Image Grid.Column="0"
                       Source="pack://application:,,,/güleryüz logo (1)2.png" 
                       Width="180" 
                       Height="180"
                       Stretch="Uniform"
                       Margin="10,0,20,0"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Left"/>
                
                <!-- Text Content -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,0,0">
                    <TextBlock Text="Pinhuman SuperApp" 
                               FontSize="26" 
                               FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                               Foreground="White"/>
                    <TextBlock Text="Güleryüz Group" 
                               FontSize="16" 
                               FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                               Foreground="#e3f2fd"
                               Margin="0,2,0,0"/>
                </StackPanel>
                
                    <!-- Help Button -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                        <ToggleButton x:Name="btnThemeToggle"
                                      Content="🌙"
                                      Background="#424242"
                                      Foreground="White"
                                      Margin="5,0"
                                      Width="40"
                                      Height="38"
                                      BorderThickness="0"
                                      Cursor="Hand"
                                      Checked="btnThemeToggle_Checked"
                                      Unchecked="btnThemeToggle_Unchecked"
                                      ToolTip="Tema değiştir"/>
                        <Button x:Name="btnHelp"
                                Style="{StaticResource ModernButton}"
                                Background="#1565c0"
                                Foreground="White"
                                Margin="5,0"
                                Click="btnHelp_Click">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <!-- Help Circle Icon -->
                                <Canvas Width="16" Height="16" Margin="0,0,6,0">
                                    <Ellipse Width="16" Height="16" Stroke="White" StrokeThickness="1.8" Fill="Transparent"/>
                                    <Path Data="M8 11.5v.01M8 5.5c0-1 .8-1.8 1.8-1.8s1.8.8 1.8 1.8-.8 1.8-1.8 1.8c-.5 0-.9.4-.9.9v.9" 
                                          Stroke="White" 
                                          StrokeThickness="1.8" 
                                          StrokeStartLineCap="Round"
                                          StrokeEndLineCap="Round"
                                          StrokeLineJoin="Round"/>
                                </Canvas>
                                <TextBlock Text="Yardım" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                    </StackPanel>
            </Grid>
        </Border>
        


        <!-- Ödeme Emri Paneli (Eski Ana İçerik) -->
        <Grid x:Name="PaymentOrderPanel" Grid.Row="1" Visibility="Collapsed">
        <!-- Main Content -->
        <TabControl x:Name="tabControl" Margin="0" Style="{StaticResource ModernTabControl}" SelectionChanged="tabControl_SelectionChanged">
            <!-- Ana İşlem Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M13 2L3 14H12L11 22L21 10H12L13 2Z" Fill="#FFD700" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Ana İşlem" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Durum Kartı -->
                    <Border Grid.Row="0" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Status Indicator with Wave Effect -->
                            <Grid Grid.Column="0" Margin="0,0,15,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <!-- Wave circles -->
                                <Ellipse x:Name="waveCircle1" 
                                         Width="20" Height="20" 
                                         Fill="Transparent"
                                         Stroke="#4CAF50" 
                                         StrokeThickness="1.5"
                                         Opacity="0.4"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center">
                                    <Ellipse.RenderTransform>
                                        <ScaleTransform x:Name="waveScale1" ScaleX="1" ScaleY="1" CenterX="10" CenterY="10"/>
                                    </Ellipse.RenderTransform>
                                    <Ellipse.Triggers>
                                        <EventTrigger RoutedEvent="Ellipse.Loaded">
                                            <BeginStoryboard>
                                                <Storyboard RepeatBehavior="Forever">
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveScale1"
                                                        Storyboard.TargetProperty="ScaleX"
                                                        From="1.0" To="2.2" Duration="0:0:1.8"/>
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveScale1"
                                                        Storyboard.TargetProperty="ScaleY"
                                                        From="1.0" To="2.2" Duration="0:0:1.8"/>
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveCircle1"
                                                        Storyboard.TargetProperty="Opacity"
                                                        From="0.4" To="0.0" Duration="0:0:1.8"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Ellipse.Triggers>
                                </Ellipse>
                                
                                <Ellipse x:Name="waveCircle2" 
                                         Width="20" Height="20" 
                                         Fill="Transparent"
                                         Stroke="#4CAF50" 
                                         StrokeThickness="1.5"
                                         Opacity="0.4"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center">
                                    <Ellipse.RenderTransform>
                                        <ScaleTransform x:Name="waveScale2" ScaleX="1" ScaleY="1" CenterX="10" CenterY="10"/>
                                    </Ellipse.RenderTransform>
                                    <Ellipse.Triggers>
                                        <EventTrigger RoutedEvent="Ellipse.Loaded">
                                            <BeginStoryboard>
                                                <Storyboard RepeatBehavior="Forever" BeginTime="0:0:0.6">
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveScale2"
                                                        Storyboard.TargetProperty="ScaleX"
                                                        From="1.0" To="2.2" Duration="0:0:1.8"/>
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveScale2"
                                                        Storyboard.TargetProperty="ScaleY"
                                                        From="1.0" To="2.2" Duration="0:0:1.8"/>
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveCircle2"
                                                        Storyboard.TargetProperty="Opacity"
                                                        From="0.4" To="0.0" Duration="0:0:1.8"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Ellipse.Triggers>
                                </Ellipse>
                                
                                <Ellipse x:Name="waveCircle3" 
                                         Width="20" Height="20" 
                                         Fill="Transparent"
                                         Stroke="#4CAF50" 
                                         StrokeThickness="1.5"
                                         Opacity="0.4"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center">
                                    <Ellipse.RenderTransform>
                                        <ScaleTransform x:Name="waveScale3" ScaleX="1" ScaleY="1" CenterX="10" CenterY="10"/>
                                    </Ellipse.RenderTransform>
                                    <Ellipse.Triggers>
                                        <EventTrigger RoutedEvent="Ellipse.Loaded">
                                            <BeginStoryboard>
                                                <Storyboard RepeatBehavior="Forever" BeginTime="0:0:1.2">
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveScale3"
                                                        Storyboard.TargetProperty="ScaleX"
                                                        From="1.0" To="2.2" Duration="0:0:1.8"/>
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveScale3"
                                                        Storyboard.TargetProperty="ScaleY"
                                                        From="1.0" To="2.2" Duration="0:0:1.8"/>
                                                    <DoubleAnimation 
                                                        Storyboard.TargetName="waveCircle3"
                                                        Storyboard.TargetProperty="Opacity"
                                                        From="0.4" To="0.0" Duration="0:0:1.8"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Ellipse.Triggers>
                                </Ellipse>
                                
                                <!-- Main status indicator -->
                            <Ellipse x:Name="statusIndicator" 
                                     Width="20" Height="20" 
                                     Fill="#4CAF50" 
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"/>
                            </Grid>
                            
                            <!-- Status Text -->
                            <StackPanel Grid.Column="1">
                                <TextBlock x:Name="txtStatus" 
                                           Text="Hazır" 
                                           FontSize="18" 
                                           FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                           Foreground="#333333"/>
                                <TextBlock x:Name="txtStatusDetail" 
                                           Text="İşlemi başlatmak için aşağıdaki butona tıklayın" 
                                           FontSize="14" 
                                           Foreground="#666666"
                                           Margin="0,5,0,0"/>
                            </StackPanel>
                            
                            <!-- Timer -->
                            <Border Grid.Column="2" 
                                    Background="#F5F5F5" 
                                    CornerRadius="15" 
                                    Padding="8,4" 
                                    BorderBrush="#E0E0E0" 
                                    BorderThickness="1">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock x:Name="txtStatusTime" 
                                               Text="00:00" 
                                               FontSize="14" 
                                               Foreground="#888888"
                                               FontFamily="Consolas"
                                               VerticalAlignment="Center"/>
                                    <TextBlock Text="⏱" 
                                               FontSize="14" 
                                               Foreground="#888888" 
                                               VerticalAlignment="Center"
                                               Margin="4,0,0,0"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Border>
                    
                    <!-- Sayfa Seçimi -->

                    <GroupBox x:Name="gbPageSelection" Grid.Row="1" Header="📄 Sayfa Seçimi" Margin="0,0,0,20" Padding="20" Style="{StaticResource BoldGroupBoxHeader}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Radio Buttons -->
                            <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Cursor="Arrow">
                                <RadioButton x:Name="rbNormalPayment" 
                                             Content="Normal Ödeme Emri" 
                                             IsChecked="True" 
                                             FontSize="14" 
                                             Margin="0,0,30,0"
                                             Cursor="Hand"
                                             Checked="rbNormalPayment_Checked"/>
                                <RadioButton x:Name="rbAdvancePayment" 
                                             Content="Avans Ödeme Emri" 
                                             FontSize="14"
                                             Cursor="Hand"
                                             Checked="rbAdvancePayment_Checked"/>
                            </StackPanel>
                            
                            <!-- İşlem Türü Seçimi -->
                            <Grid Grid.Row="1" Grid.Column="0" Margin="0,15,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <TextBlock Grid.Column="0"
                                           x:Name="txtTaslakLabel" 
                                           Text="Taslaktakiler için işlem yap" 
                                           FontSize="12" 
                                           VerticalAlignment="Center" 
                                           Margin="0,0,10,0" 
                                           Foreground="#666"/>
                                
                                <CheckBox Grid.Column="1"
                                          x:Name="chkIslemTuru" 
                                          Cursor="Hand"
                                          IsChecked="True"
                                          Checked="chkIslemTuru_Checked"
                                          Unchecked="chkIslemTuru_Unchecked">
                                    <CheckBox.Template>
                                        <ControlTemplate TargetType="CheckBox">
                                            <Grid>
                                                <!-- Modern Switch Button -->
                                                <Grid Width="60" Height="24">
                                                    <Border BorderBrush="#DDD" 
                                                            BorderThickness="1" 
                                                            CornerRadius="12" 
                                                            Background="#2196F3" 
                                                            x:Name="SwitchBackground"/>
                                                    
                                                    <Border x:Name="SwitchThumb" 
                                                            Width="18" 
                                                            Height="18" 
                                                            Background="White" 
                                                            CornerRadius="9" 
                                                            HorizontalAlignment="Right" 
                                                            VerticalAlignment="Center"
                                                            Margin="0,0,3,0">
                                                        <Border.Effect>
                                                            <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="1" Opacity="0.3"/>
                                                        </Border.Effect>
                                                    </Border>
                                                    

                                                </Grid>
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsChecked" Value="False">
                                                    <Setter TargetName="SwitchThumb" Property="HorizontalAlignment" Value="Left"/>
                                                    <Setter TargetName="SwitchThumb" Property="Margin" Value="3,0,0,0"/>
                                                    <Setter TargetName="SwitchBackground" Property="Background" Value="#4CAF50"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </CheckBox.Template>
                                </CheckBox>
                                
                                <TextBlock Grid.Column="2"
                                           x:Name="txtOnaylandiLabel" 
                                           Text="Onaylandılar için işlem yap" 
                                           FontSize="12" 
                                           VerticalAlignment="Center" 
                                           Margin="10,0,0,0" 
                                           Foreground="#000"/>
                                           

                            </Grid>
                            
                            <!-- Icon Pattern ve Mod Yazısı -->
                            <Grid Grid.Row="0" Grid.Column="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- Mod yazısı - Icon'un solunda -->
                                <TextBlock Grid.Column="0"
                                           x:Name="txtModLabel" 
                                           Text="ONAY MODU" 
                                           FontSize="32" 
                                           FontWeight="Normal"
                                           VerticalAlignment="Center" 
                                           HorizontalAlignment="Right"
                                           Margin="0,0,10,0" 
                                           Foreground="#2196F3"/>
                                           
                                <!-- Icon Pattern - Büyütülmüş -->
                                <TextBlock Grid.Column="1"
                                           x:Name="txtPageIcon" 
                                           Text="📄" 
                                           FontSize="48" 
                                           VerticalAlignment="Center" 
                                           HorizontalAlignment="Right"
                                           Margin="0,0,10,0"
                                           Opacity="0.3"/>
                            </Grid>
                        </Grid>
                    </GroupBox>
                    
                    <!-- Log Buttons -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                        <Button x:Name="btnReportError" 
                                Content="🚨 Hata Bildir" 
                                Style="{StaticResource ModernButton}"
                                Background="#F44336"
                                Margin="5,0"
                                Click="btnReportError_Click"/>
                        <!-- btnClearLog kaldırıldı - artık loglar tab'inde -->
                    </StackPanel>
                    
                    <!-- Log Area - Kaldırıldı, ayrı tab'e taşındı -->
                    
                    <!-- İşlem Butonları -->
                    <Grid Grid.Row="3" Margin="0,20,0,0">

                        

                        

                    </Grid>
                </Grid>
            </TabItem>
            
            <!-- Loglar Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M14.5 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z M14 3.5L18.5 8H14V3.5zM6 4h6v5h6v11H6V4z M8 10h6v1H8v-1z M8 12h6v1H8v-1z M8 14h4v1H8v-1z" Fill="#2196F3" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Loglar" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Log Başlığı -->
                    <Border Grid.Row="0" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="📋 İşlem Logları" 
                                           FontSize="18" 
                                           FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                           FontWeight="Normal" 
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="Sistem işlemleri ve hata mesajları burada görüntülenir" 
                                           FontSize="12" 
                                           Foreground="#666666"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button x:Name="btnClearLog" 
                                        Content="🗑️ Temizle" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#FF9800"
                                        Margin="0,0,10,0"
                                        Click="btnClearLog_Click"/>
                                <Button x:Name="btnExportLog" 
                                        Content="💾 Dışa Aktar" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#9C27B0"
                                        Click="btnExportLog_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- Log İçeriği -->
                    <Border Grid.Row="1" x:Name="LogBorder" Background="#1E1E1E" BorderBrush="#333333" BorderThickness="1"
                            CornerRadius="8" Padding="10" Margin="0,0,0,20">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                            <TextBox x:Name="txtLog"
                                     IsReadOnly="True"
                                     Background="#1E1E1E"
                                     BorderThickness="0"
                                     FontFamily="Consolas"
                                     FontSize="12"
                                     Foreground="White"
                                     TextWrapping="Wrap"
                                     VerticalAlignment="Stretch"
                                     HorizontalAlignment="Stretch"
                                     Padding="10"
                                     AcceptsReturn="True"
                                     AcceptsTab="True"/>
                        </ScrollViewer>
                    </Border>
                    
                    <!-- Log İstatistikleri -->
                    <Border Grid.Row="2" Background="#E8F5E8" BorderBrush="#4CAF50" BorderThickness="1"
                            CornerRadius="8" Padding="15">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📊 Log İstatistikleri:"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       Margin="0,0,15,0"/>

                            <!-- Satır Sayısı Badge -->
                            <Border x:Name="badgeLogLineCount"
                                    Background="#E3F2FD"
                                    BorderBrush="#2196F3"
                                    BorderThickness="1"
                                    CornerRadius="12"
                                    Padding="8,4"
                                    Margin="0,0,10,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📄" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock x:Name="txtLogLineCount" Text="0 satır" FontSize="10" FontWeight="Normal" Foreground="#1976D2" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Hata Sayısı Badge -->
                            <Border x:Name="badgeLogErrorCount"
                                    Background="#FFEBEE"
                                    BorderBrush="#F44336"
                                    BorderThickness="1"
                                    CornerRadius="12"
                                    Padding="8,4"
                                    Margin="0,0,10,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="❌" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock x:Name="txtLogErrorCount" Text="0 hata" FontSize="10" FontWeight="Normal" Foreground="#C62828" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Uyarı Sayısı Badge -->
                            <Border x:Name="badgeLogWarningCount"
                                    Background="#FFF3E0"
                                    BorderBrush="#FF9800"
                                    BorderThickness="1"
                                    CornerRadius="12"
                                    Padding="8,4"
                                    Margin="0,0,10,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⚠️" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock x:Name="txtLogWarningCount" Text="0 uyarı" FontSize="10" FontWeight="Normal" Foreground="#E65100" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Başarı Sayısı Badge -->
                            <Border x:Name="badgeLogSuccessCount"
                                    Background="#E8F5E8"
                                    BorderBrush="#4CAF50"
                                    BorderThickness="1"
                                    CornerRadius="12"
                                    Padding="8,4"
                                    Margin="0,0,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="✅" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                    <TextBlock x:Name="txtLogSuccessCount" Text="0 başarı" FontSize="10" FontWeight="Normal" Foreground="#2E7D32" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                </Grid>
            </TabItem>


            
            <!-- Ayarlar Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M12.22 2h-.44a2 2 0 00-2 2v.18a2 2 0 01-1 1.73l-.43.25a2 2 0 01-2 0l-.15-.08a2 2 0 00-2.73.73l-.22.38a2 2 0 00.73 2.73l.15.1a2 2 0 011 1.72v.51a2 2 0 01-1 1.74l-.15.09a2 2 0 00-.73 2.73l.22.38a2 2 0 002.73.73l.15-.08a2 2 0 012 0l.43.25a2 2 0 011 1.73V20a2 2 0 002 2h.44a2 2 0 002-2v-.18a2 2 0 011-1.73l.43-.25a2 2 0 012 0l.15.08a2 2 0 002.73-.73l.22-.39a2 2 0 00-.73-2.73l-.15-.08a2 2 0 01-1-1.74v-.5a2 2 0 011-1.74l.15-.09a2 2 0 00.73-2.73l-.22-.38a2 2 0 00-2.73-.73l-.15.08a2 2 0 01-2 0l-.43-.25a2 2 0 01-1-1.73V4a2 2 0 00-2-2z M12 6.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z" Fill="#FF9800" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Ayarlar" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20" Cursor="Arrow">
                    <StackPanel>
                        <!-- Otomatik Giriş Ayarları -->
                        <GroupBox Header="🔐 Otomatik Giriş Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <CheckBox x:Name="chkAutoLogin" 
                                          Grid.Row="0" Grid.ColumnSpan="2"
                                          Content="Otomatik girişi etkinleştir" 
                                          FontWeight="Normal"
                                          Margin="0,0,0,15"
                                          Checked="chkAutoLogin_Changed"
                                          Unchecked="chkAutoLogin_Changed"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Kullanıcı Adı:" VerticalAlignment="Center" Margin="0,0,0,10"/>
                                <TextBox x:Name="txtUsername" Grid.Row="1" Grid.Column="1" Style="{StaticResource ModernTextBox}" Margin="0,0,0,10"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Şifre:" VerticalAlignment="Center" Margin="0,0,0,10"/>
                                <PasswordBox x:Name="txtPassword" Grid.Row="2" Grid.Column="1" Style="{StaticResource ModernPasswordBox}" Margin="0,0,0,10" Height="50">
                                    <PasswordBox.Template>
                                        <ControlTemplate TargetType="PasswordBox">
                                            <Border Background="{TemplateBinding Background}"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    CornerRadius="8">
                                                <ScrollViewer x:Name="PART_ContentHost" 
                                                              Margin="18,0,18,0"
                                                              VerticalAlignment="Center"
                                                              FontSize="14"/>
                                            </Border>
                                        </ControlTemplate>
                                    </PasswordBox.Template>
                                </PasswordBox>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Firma Kodu:" VerticalAlignment="Center" Margin="0,0,0,10"/>
                                <ComboBox x:Name="cmbCompanyCode" Grid.Row="3" Grid.Column="1" Style="{StaticResource ModernComboBox}" Margin="0,0,0,10">
                                    <ComboBoxItem Content="ikb"/>
                                    <ComboBoxItem Content="ngs"/>
                                    <ComboBoxItem Content="gyz"/>
                                </ComboBox>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="TOTP Secret:" VerticalAlignment="Center" Margin="0,0,0,0"/>
                                <Grid Grid.Row="4" Grid.Column="1" Margin="0,0,0,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Gizli TOTP Secret -->
                                    <PasswordBox x:Name="txtTotpSecret" Grid.Column="0" Style="{StaticResource ModernPasswordBox}" Visibility="Visible" Height="50">
                                        <PasswordBox.Template>
                                            <ControlTemplate TargetType="PasswordBox">
                                                <Border Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="{TemplateBinding BorderThickness}"
                                                        CornerRadius="8">
                                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                                  Margin="18,0,18,0"
                                                                  VerticalAlignment="Center"
                                                                  FontSize="14"/>
                                                </Border>
                                            </ControlTemplate>
                                        </PasswordBox.Template>
                                    </PasswordBox>
                                    
                                    <!-- Görünür TOTP Secret -->
                                    <TextBox x:Name="txtTotpSecretVisible" Grid.Column="0" Style="{StaticResource ModernTextBox}" Visibility="Collapsed" Height="50"/>
                                    
                                    <!-- Göz İkonu -->
                                    <Button x:Name="btnToggleTotpSecret" 
                                            Grid.Column="1"
                                            Content="👁️" 
                                            Style="{StaticResource ModernButton}"
                                            Background="#9C27B0"
                                            Width="35"
                                            Height="35"
                                            Padding="0"
                                            Margin="5,0,0,0"
                                            FontSize="14"
                                            Click="btnToggleTotpSecret_Click"
                                            ToolTip="TOTP Secret'ı göster/gizle"/>
                                    
                                    <Button x:Name="btnTotpInfo" 
                                            Grid.Column="2"
                                            Content="ℹ️" 
                                            Style="{StaticResource ModernButton}"
                                            Background="#2196F3"
                                            Width="35"
                                            Height="35"
                                            Padding="0"
                                            Margin="5,0,0,0"
                                            FontSize="14"
                                            Click="btnTotpInfo_Click"
                                            ToolTip="TOTP Secret nasıl edinilir?"/>
                                </Grid>
                                

                            </Grid>
                        </GroupBox>
                        
                        <!-- Çıktı Klasörü Ayarları -->
                        <GroupBox Header="📁 Çıktı Klasörü Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Çıktı Klasörü:" VerticalAlignment="Center" Margin="0,0,0,10"/>
                                <TextBox x:Name="txtOutputFolder" Grid.Row="0" Grid.Column="1" Style="{StaticResource ModernTextBox}" Margin="0,0,10,10" IsReadOnly="True" Cursor="Arrow"/>
                                <Button x:Name="btnSelectOutputFolder" 
                                        Grid.Row="0" Grid.Column="2"
                                        Content="📁 Seç" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#FF9800"
                                        Margin="0,0,5,10"
                                        Click="btnSelectOutputFolder_Click"/>
                                <Button x:Name="btnClearOutputFolder" 
                                        Grid.Row="0" Grid.Column="3"
                                        Content="❌" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#F44336"
                                        Width="40"
                                        Padding="2"
                                        Margin="0,0,0,10"
                                        Click="btnClearOutputFolder_Click"/>
                            </Grid>
                        </GroupBox>
                        
                        <!-- SMS Gönderim Ayarları -->
                        <GroupBox Header="📱 SMS Gönderim Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <CheckBox x:Name="chkHeadlessMode" 
                                          Grid.Row="0" Grid.ColumnSpan="2"
                                          Content="Gizli modu etkinleştir (Tarayıcı arka planda çalışır)" 
                                          FontWeight="Normal"
                                          FontSize="14"
                                          Margin="0,0,0,0"
                                          Checked="chkHeadlessMode_Changed"
                                          Unchecked="chkHeadlessMode_Changed"
                                          ToolTip="Bu seçenek işaretliyse tarayıcı görünmez modda çalışır. İşaretli değilse tarayıcı penceresi görünür olur."/>
                            </Grid>
                        </GroupBox>
                        
                        <!-- Ayar Butonları -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Cursor="Arrow">
                            <Button x:Name="btnResetSettings" 
                                    Content="🔄 Sıfırla" 
                                    Style="{StaticResource ModernButton}"
                                    Background="#757575"
                                    Margin="0,0,10,0"
                                    Click="btnResetSettings_Click"/>
                            <Button x:Name="btnSaveSettings" 
                                    Content="💾 Kaydet" 
                                    Style="{StaticResource SuccessButton}"
                                    Click="btnSaveSettings_Click"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Mail Ayarları Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z M22 6l-10 7L2 6" Fill="#4CAF50" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Mail Ayarları" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20" Cursor="Arrow">
                    <StackPanel>
                        <!-- Mail Bildirim Ayarları -->
                        <GroupBox Header="📧 Mail Bildirim Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <CheckBox x:Name="chkMailNotifications" 
                                          Grid.Row="0" Grid.ColumnSpan="3"
                                          Content="Mail bildirimlerini etkinleştir" 
                                          FontWeight="Normal"
                                          Margin="0,0,0,15"
                                          Checked="chkMailNotifications_Changed"
                                          Unchecked="chkMailNotifications_Changed"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Gönderici Adı:" VerticalAlignment="Center" Margin="0,0,0,10" Visibility="Collapsed"/>
                                <TextBox x:Name="txtSenderName" Grid.Row="3" Grid.Column="1" Style="{StaticResource ModernTextBox}" Margin="0,0,0,10" Visibility="Collapsed"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="Mail Şifresi:" VerticalAlignment="Center" Margin="0,0,0,10" Visibility="Collapsed"/>
                                <PasswordBox x:Name="txtSenderPassword" Grid.Row="4" Grid.Column="1" Margin="0,0,0,10" Padding="10,8" BorderThickness="1" BorderBrush="#E0E0E0" Background="White" FontSize="14" Visibility="Collapsed"/>
                                

                            </Grid>
                        </GroupBox>
                        
                        <!-- Kelime Bazlı Mail Ayarları -->
                        <GroupBox Header="🔍 Kelime Bazlı Mail Ayarları" Margin="0,0,0,20" Padding="15" Style="{StaticResource BoldGroupBoxHeader}" Cursor="Arrow">
                            <StackPanel>
                                <!-- Badge'ler -->
                                <Grid Margin="0,0,0,15">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Kelime Sayısı Badge -->
                                    <Border Grid.Column="0"
                                            Background="#2196F3"
                                            CornerRadius="12"
                                            Padding="8,4"
                                            Cursor="Hand"
                                            MouseLeftButtonDown="KeywordCountBadge_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="📝" 
                                                       FontSize="12" 
                                                       VerticalAlignment="Center" 
                                                       Margin="0,0,4,0"
                                                       Foreground="White"/>
                                            <TextBlock x:Name="txtKeywordCount" 
                                                       Text="0 Kelime" 
                                                       FontSize="11" 
                                                       FontWeight="Normal"
                                                       Foreground="White" 
                                                       VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- Tekil Mail Sayısı Badge -->
                                    <Border Grid.Column="2"
                                            Background="#4CAF50"
                                            CornerRadius="12"
                                            Padding="8,4"
                                            Cursor="Hand"
                                            MouseLeftButtonDown="UniqueEmailCountBadge_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="📧" 
                                                       FontSize="12" 
                                                       VerticalAlignment="Center" 
                                                       Margin="0,0,4,0"
                                                       Foreground="White"/>
                                            <TextBlock x:Name="txtUniqueEmailCount" 
                                                       Text="0 Tekil Mail" 
                                                       FontSize="11" 
                                                       FontWeight="Normal"
                                                       Foreground="White" 
                                                       VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                                
                                <!-- Arama Input -->
                                <Grid Margin="0,0,0,15">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <Border Grid.Column="0"
                                            BorderThickness="1"
                                            BorderBrush="#C8C8C8"
                                            Background="White"
                                            CornerRadius="8"
                                            Margin="0,0,10,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <!-- Arama Iconu -->
                                            <TextBlock Grid.Column="0" 
                                                       Text="🔍" 
                                                       FontSize="12" 
                                                       VerticalAlignment="Center" 
                                                       Margin="10,0,0,0" 
                                                       Foreground="#666"/>
                                            
                                            <!-- Arama TextBox'ı -->
                                            <TextBox Grid.Column="1"
                                                     x:Name="txtKeywordSearch" 
                                                     Text=""
                                                     FontSize="12"
                                                     VerticalAlignment="Center"
                                                     BorderThickness="0"
                                                     Background="Transparent"
                                                     Padding="0,8,10,8"
                                                     TextChanged="txtKeywordSearch_TextChanged"
                                                     ToolTip="🔍 Kelime veya email ara..."
                                                     Tag="Arama yapabilirsiniz"/>
                                        </Grid>
                                    </Border>
                                    
                                    <Button x:Name="btnClearSearch" 
                                            Grid.Column="1"
                                            Content="❌"
                                            Width="35"
                                            Height="35"
                                            Background="#F44336"
                                            Foreground="White"
                                            BorderThickness="0"
                                            FontSize="12"
                                            Click="btnClearSearch_Click"
                                            Visibility="Collapsed"/>
                                </Grid>
                                
                                <!-- Kelime Listesi -->
                                <Border BorderBrush="#333333" BorderThickness="1" CornerRadius="6" Background="White" Margin="0,5,0,5">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="400">
                                        <StackPanel x:Name="spRegionList" Margin="0,5,0,5">
                                            <!-- Kelimeler buraya dinamik olarak eklenecek -->
                                        </StackPanel>
                                    </ScrollViewer>
                                </Border>
                                
                                <!-- Butonlar Satırı -->
                                <Grid Margin="0,10,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Yeni Kelime Ekle Butonu - Sol taraf -->
                                    <Button x:Name="btnAddKeyword" 
                                            Grid.Column="0"
                                            Content="➕ Yeni Kelime Ekle" 
                                            Style="{StaticResource ModernButton}"
                                            Background="#4CAF50"
                                            Click="btnAddKeyword_Click"/>
                                    
                                    <!-- Mail Ayar Butonları - Sağ taraf -->
                                    <StackPanel Grid.Column="2" Orientation="Horizontal">
                                        <Button x:Name="btnManualSend" 
                                                Content="📤 Manuel Gönderim" 
                                                Style="{StaticResource ModernButton}"
                                                Background="#9C27B0"
                                                Margin="0,0,10,0"
                                                Click="btnManualSend_Click"/>
                                        <Button x:Name="btnResetMailSettings" 
                                                Content="🔄 Sıfırla" 
                                                Style="{StaticResource ModernButton}"
                                                Background="#757575"
                                                Margin="0,0,10,0"
                                                Click="btnResetMailSettings_Click"/>
                                        <Button x:Name="btnSaveMailSettings" 
                                                Content="💾 Kaydet" 
                                                Style="{StaticResource SuccessButton}"
                                                Click="btnSaveMailSettings_Click"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        


                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Mail Geçmişi Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M3 12a9 9 0 1 0 18 0 9 9 0 0 0-18 0z M12 7v5l3 2 M12 1v3 M12 21v3" Fill="#9C27B0" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Geçmiş" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Geçmiş Başlık ve Butonlar -->
                    <Grid Grid.Row="0" Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="İşlem Geçmişi" FontSize="18" FontWeight="Bold"
                                  FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                  Foreground="#1565C0"/>

                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <Button x:Name="btnClearSelectedHistory"
                                    Content="🗑️ Seçilileri Sil"
                                    Style="{StaticResource ModernButton}"
                                    Background="#F44336"
                                    Foreground="White"
                                    Margin="0,0,10,0"
                                    Padding="10,5"
                                    FontSize="12"
                                    Click="btnClearSelectedHistory_Click"/>
                            <Button x:Name="btnClearAllHistory"
                                    Content="🗑️ Tümünü Temizle"
                                    Style="{StaticResource ModernButton}"
                                    Background="#FF9800"
                                    Foreground="White"
                                    Padding="10,5"
                                    FontSize="12"
                                    Click="btnClearAllHistory_Click"/>
                        </StackPanel>
                    </Grid>

                    <!-- Geçmiş Tablosu -->
                    <DataGrid x:Name="dgHistory" Grid.Row="1"
                             AutoGenerateColumns="False"
                             CanUserAddRows="False"
                             CanUserDeleteRows="False"
                             CanUserReorderColumns="True"
                             CanUserResizeColumns="True"
                             CanUserResizeRows="False"
                             CanUserSortColumns="True"
                             GridLinesVisibility="All"
                             HeadersVisibility="Column"
                             IsReadOnly="True"
                             SelectionMode="Extended"
                             Height="Auto"
                             FontSize="12"
                             Margin="0,0,0,10">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="White"/>
                                <Setter Property="Foreground" Value="Black"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="BorderBrush" Value="#CCCCCC"/>
                                <Setter Property="BorderThickness" Value="1,1,1,1"/>
                                <Setter Property="Padding" Value="8,4"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="İşlem Tarihi" Binding="{Binding ProcessDate}" Width="Auto" MinWidth="150"/>
                            <DataGridTextColumn Header="İşlem Tipi" Binding="{Binding ProcessType}" Width="Auto" MinWidth="120"/>
                            <DataGridTextColumn Header="Dönem" Binding="{Binding Period}" Width="Auto" MinWidth="120"/>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="Auto" MinWidth="100"/>
                            <DataGridTextColumn Header="Tutar" Binding="{Binding Amount, StringFormat=N2}" Width="Auto" MinWidth="120"/>
                            <DataGridTextColumn Header="Durum" Binding="{Binding Status}" Width="Auto" MinWidth="100">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Status}" Value="Başarılı">
                                                <Setter Property="Foreground" Value="#4CAF50"/>
                                                <Setter Property="FontWeight" Value="Normal"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Status}" Value="Hata">
                                                <Setter Property="Foreground" Value="#F44336"/>
                                                <Setter Property="FontWeight" Value="Normal"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Status}" Value="Uyarı">
                                                <Setter Property="Foreground" Value="#FF9800"/>
                                                <Setter Property="FontWeight" Value="Normal"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M22 2L11 13 M22 2l-7 20-4-9-9-4 20-7z" Fill="#FF5722" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Mail Geçmişi" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Mail Geçmişi Başlığı -->
                    <Border Grid.Row="0" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="📧 Mail Geçmişi" 
                                           FontSize="18" 
                                           FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                           FontWeight="Normal" 
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="Gönderilen maillerin detaylı geçmişi" 
                                           FontSize="12" 
                                           Foreground="#666666"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button x:Name="btnRefreshMailHistory" 
                                        Content="🔄 Yenile" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#2196F3"
                                        Margin="0,0,10,0"
                                        Click="btnRefreshMailHistory_Click"/>
                                <Button x:Name="btnClearMailHistory" 
                                        Content="🗑️ Temizle" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#F44336"
                                        Margin="0,0,10,0"
                                        Click="btnClearMailHistory_Click"/>
                                <Button x:Name="btnExportMailHistory" 
                                        Content="💾 Dışa Aktar" 
                                        Style="{StaticResource ModernButton}"
                                        Background="#4CAF50"
                                        Click="btnExportMailHistory_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- Arama ve Filtreleme -->
                    <Border Grid.Row="1" Background="#FAFAFA" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="15" Margin="0,0,0,20" Cursor="Arrow">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Border Grid.Column="0"
                                    BorderThickness="1"
                                    BorderBrush="#C8C8C8"
                                    Background="White"
                                    CornerRadius="8"
                                    Margin="0,0,10,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Arama Iconu -->
                                    <TextBlock Grid.Column="0" 
                                               Text="🔍" 
                                               FontSize="14" 
                                               VerticalAlignment="Center" 
                                               Margin="10,0,0,0" 
                                               Foreground="#666"/>
                                    
                                    <!-- Arama TextBox'ı -->
                                    <TextBox Grid.Column="1"
                                             x:Name="txtMailHistorySearch" 
                                             Text=""
                                             FontSize="14"
                                             VerticalAlignment="Center"
                                             BorderThickness="0"
                                             Background="Transparent"
                                             Padding="0,8,10,8"
                                             TextChanged="txtMailHistorySearch_TextChanged"
                                             ToolTip="🔍 Mail geçmişinde ara..."
                                             Tag="Mail geçmişinde arama yapabilirsiniz"/>
                                </Grid>
                            </Border>

                            
                            <Border Grid.Column="1" 
                                    Background="White" 
                                    BorderBrush="#C8C8C8" 
                                    BorderThickness="1" 
                                    CornerRadius="6" 
                                    Margin="0,0,10,0">
                                <ComboBox x:Name="cmbMailStatusFilter" 
                                          Width="150"
                                          Padding="10,8"
                                          BorderThickness="0"
                                          Background="Transparent"
                                          SelectionChanged="cmbMailStatusFilter_SelectionChanged">
                                <ComboBox.Resources>
                                    <Style TargetType="ComboBoxItem">
                                        <Setter Property="Padding" Value="10,8"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ComboBoxItem">
                                                    <Border x:Name="Border" 
                                                            Background="{TemplateBinding Background}"
                                                            Padding="{TemplateBinding Padding}"
                                                            CornerRadius="4">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsHighlighted" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#E3F2FD"/>
                                                        </Trigger>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#2196F3"/>
                                                            <Setter Property="Foreground" Value="White"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ComboBox.Resources>
                                <ComboBoxItem Content="Tüm Durumlar" IsSelected="True"/>
                                <ComboBoxItem Content="Gönderildi"/>
                                <ComboBoxItem Content="Hata"/>
                                <ComboBoxItem Content="Beklemede"/>
                            </ComboBox>
                            </Border>
                            
                            <Button x:Name="btnClearMailFilters" 
                                    Grid.Column="2"
                                    Content="❌ Filtreleri Temizle" 
                                    Style="{StaticResource ModernButton}"
                                    Background="#FF9800"
                                    Click="btnClearMailFilters_Click"/>
                        </Grid>
                    </Border>
                    
                    <!-- Mail Geçmişi Tablosu -->
                    <Border Grid.Row="2" Background="White" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="10" Margin="0,0,0,20">
                        <DataGrid x:Name="dgMailHistory" 
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  CanUserDeleteRows="False"
                                  CanUserReorderColumns="True"
                                  CanUserResizeColumns="True"
                                  CanUserResizeRows="False"
                                  CanUserSortColumns="True"
                                  GridLinesVisibility="All"
                                  HeadersVisibility="Column"
                                  IsReadOnly="True"
                                  SelectionMode="Single"
                                  Height="Auto"
                                  SelectionChanged="dgMailHistory_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Tarih" Binding="{Binding Timestamp, StringFormat=dd/MM/yyyy HH:mm}" Width="Auto" MinWidth="120"/>
                                <DataGridTextColumn Header="Alıcı" Binding="{Binding Recipient}" Width="Auto" MinWidth="200"/>
                                <DataGridTextColumn Header="Konu" Binding="{Binding Subject}" Width="Auto" MinWidth="250"/>
                                <DataGridTextColumn Header="Durum" Binding="{Binding Status}" Width="Auto" MinWidth="100">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Status}" Value="Gönderildi">
                                                    <Setter Property="Foreground" Value="#4CAF50"/>
                                                    <Setter Property="FontWeight" Value="Normal"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="Hata">
                                                    <Setter Property="Foreground" Value="#F44336"/>
                                                    <Setter Property="FontWeight" Value="Normal"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="Beklemede">
                                                    <Setter Property="Foreground" Value="#FF9800"/>
                                                    <Setter Property="FontWeight" Value="Normal"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Gönderim Türü" Binding="{Binding DeliveryType}" Width="Auto" MinWidth="120">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding DeliveryType}" Value="Otomatik">
                                                    <Setter Property="Foreground" Value="#2196F3"/>
                                                    <Setter Property="FontWeight" Value="Normal"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DeliveryType}" Value="Manuel">
                                                    <Setter Property="Foreground" Value="#9C27B0"/>
                                                    <Setter Property="FontWeight" Value="Normal"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Ek Sayısı" Binding="{Binding AttachmentCount}" Width="Auto" MinWidth="80"/>
                                <DataGridTextColumn Header="Hata Mesajı" Binding="{Binding ErrorMessage}" Width="Auto" MinWidth="200"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                    
                    <!-- Mail Detayları -->
                    <Border Grid.Row="3" Background="#F8F9FA" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="15" Cursor="Arrow">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Seçili Mail Detayları:" 
                                       FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                       FontWeight="Bold" Margin="0,0,10,10" VerticalAlignment="Top"/>
                            
                            <ScrollViewer Grid.Row="0" Grid.Column="1" Grid.RowSpan="3" 
                                          VerticalScrollBarVisibility="Auto" MaxHeight="200">
                                <StackPanel x:Name="spMailDetails">
                                    <TextBlock Text="Mail seçiniz..." 
                                               Foreground="#666666" 
                                               FontStyle="Italic"/>
                                </StackPanel>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- İndirilenler Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- Download Icon (Folder with Arrow) -->
                        <Grid Width="16" Height="16" Margin="0,0,8,0">
                            <!-- Folder -->
                            <Path Data="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z" 
                                  Fill="#4CAF50" 
                                  Stretch="Uniform"/>
                            <!-- Download Arrow -->
                            <Path Data="M12 8v8m-3-3l3 3 3-3" 
                                  Stroke="White" 
                                  StrokeThickness="2" 
                                  StrokeStartLineCap="Round"
                                  StrokeEndLineCap="Round"
                                  StrokeLineJoin="Round"
                                  Stretch="Uniform"
                                  Margin="2"/>
                        </Grid>
                        <TextBlock Text="İndirilenler" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- İndirilenler Başlığı -->
                    <Border Grid.Row="0" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1"
                            CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="📥 İndirilen Dosyalar"
                                           FontSize="18"
                                           FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                           FontWeight="Normal"
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="Daha önce indirilmiş dosya ID'leri ve silme işlemi"
                                           FontSize="12"
                                           Foreground="#666666"/>
                            </StackPanel>

                            <Button x:Name="btnRefreshDownloaded"
                                    Grid.Column="1"
                                    Content="🔄 Yenile"
                                    Style="{StaticResource ModernButton}"
                                    FontSize="12"
                                    Height="35"
                                    Background="#2196F3"
                                    Click="btnRefreshDownloaded_Click"/>
                        </Grid>
                    </Border>

                    <!-- Arama ve Filtre -->
                    <Border Grid.Row="1" Background="White" BorderBrush="#E0E0E0" BorderThickness="1"
                            CornerRadius="8" Padding="15" Margin="0,0,0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBox x:Name="txtDownloadedSearch"
                                     Grid.Column="0"
                                     Style="{StaticResource ModernTextBox}"
                                     Height="35"
                                     FontSize="13"
                                     Margin="0,0,10,0"
                                     Text="İndirilen dosyalarda arama yapabilirsiniz"
                                     Foreground="Gray"
                                     ToolTip="🔍 İndirilen dosyalarda arama yapabilirsiniz"
                                     TextChanged="txtDownloadedSearch_TextChanged"/>

                            <Button x:Name="btnClearAllDownloaded"
                                    Grid.Column="1"
                                    Content="🗑️ Tümünü Sil"
                                    Style="{StaticResource ModernButton}"
                                    FontSize="12"
                                    Height="35"
                                    Background="#f44336"
                                    Margin="0,0,10,0"
                                    Click="btnClearAllDownloaded_Click"/>

                            <Button x:Name="btnClearSelectedDownloaded"
                                    Grid.Column="2"
                                    Content="❌ Seçilenleri Sil"
                                    Style="{StaticResource ModernButton}"
                                    FontSize="12"
                                    Height="35"
                                    Background="#FF9800"
                                    Click="btnClearSelectedDownloaded_Click"/>
                        </Grid>
                    </Border>

                    <!-- İndirilenler Tablosu -->
                    <DataGrid x:Name="dgDownloadedFiles" Grid.Row="2"
                             AutoGenerateColumns="False"
                             CanUserAddRows="False"
                             CanUserDeleteRows="False"
                             CanUserReorderColumns="True"
                             CanUserResizeColumns="True"
                             CanUserResizeRows="False"
                             CanUserSortColumns="True"
                             GridLinesVisibility="All"
                             HeadersVisibility="Column"
                             IsReadOnly="True"
                             SelectionMode="Extended"
                             Height="Auto"
                             FontSize="12"
                             Margin="0,0,0,10">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="White"/>
                                <Setter Property="Foreground" Value="Black"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="BorderBrush" Value="#CCCCCC"/>
                                <Setter Property="BorderThickness" Value="1,1,1,1"/>
                                <Setter Property="Padding" Value="8,4"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Dosya ID" Binding="{Binding Id}" Width="Auto" MinWidth="200"/>
                            <DataGridTextColumn Header="Dönem" Binding="{Binding Period}" Width="Auto" MinWidth="150"/>
                            <DataGridTextColumn Header="İndirme Tarihi" Binding="{Binding DownloadDate, StringFormat=dd.MM.yyyy HH:mm}" Width="Auto" MinWidth="150"/>
                            <DataGridTextColumn Header="Durum" Binding="{Binding Status}" Width="Auto" MinWidth="100">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Status}" Value="İndirildi">
                                                <Setter Property="Foreground" Value="#4CAF50"/>
                                                <Setter Property="FontWeight" Value="Normal"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Status}" Value="Hata">
                                                <Setter Property="Foreground" Value="#F44336"/>
                                                <Setter Property="FontWeight" Value="Normal"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Status}" Value="Beklemede">
                                                <Setter Property="Foreground" Value="#FF9800"/>
                                                <Setter Property="FontWeight" Value="Normal"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- İstatistikler -->
                    <Border Grid.Row="3" Background="#F8F9FA" BorderBrush="#E9ECEF" BorderThickness="1"
                            CornerRadius="8" Padding="15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="📊 Toplam: "
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="#333333"/>
                                <TextBlock x:Name="txtTotalDownloadedCount"
                                           Text="0"
                                           FontSize="14"
                                           FontWeight="Bold"
                                           Foreground="#2196F3"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="✅ Aktif: "
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="#333333"/>
                                <TextBlock x:Name="txtActiveDownloadedCount"
                                           Text="0"
                                           FontSize="14"
                                           FontWeight="Bold"
                                           Foreground="#4CAF50"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="📅 Bugün: "
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="#333333"/>
                                <TextBlock x:Name="txtTodayDownloadedCount"
                                           Text="0"
                                           FontSize="14"
                                           FontWeight="Bold"
                                           Foreground="#FF9800"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Hakkında Tab -->
            <TabItem Style="{StaticResource ModernTabItem}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" Fill="#607D8B" Width="16" Height="16" Margin="0,0,8,0" Stretch="Uniform"/>
                        <TextBlock Text="Hakkında" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <ScrollViewer Padding="20" Cursor="Arrow">
                    <StackPanel>
                        <TextBlock Text="🚀 Maaş Talimatı İndirici"
                                   FontSize="24"
                                   FontFamily="pack://application:,,,/Fonts/Poppins-Bold.ttf#Poppins"
                                   FontWeight="Bold"
                                   Margin="0,0,0,20"
                                   HorizontalAlignment="Center"/>
                        
                        <Border Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1" 
                                CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                            <StackPanel>
                                <TextBlock Text="📋 Özellikler:" FontSize="16" FontFamily="pack://application:,,,/Fonts/Poppins-SemiBold.ttf#Poppins" FontWeight="SemiBold" Margin="0,0,0,10"/>
                                <TextBlock Text="• Otomatik login ve 2FA desteği" Margin="0,0,0,5"/>
                                <TextBlock Text="• Toplu dosya indirme" Margin="0,0,0,5"/>
                                <TextBlock Text="• Excel rapor oluşturma" Margin="0,0,0,5"/>
                                <TextBlock Text="• Word belgesi şablonu" Margin="0,0,0,5"/>
                                <TextBlock Text="• Gerçek zamanlı ilerleme takibi" Margin="0,0,0,5"/>
                                <TextBlock Text="• Modern ve kullanıcı dostu arayüz" Margin="0,0,0,5"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" 
                                CornerRadius="8" Padding="20" Margin="0,0,0,20" Cursor="Arrow">
                            <StackPanel>
                                <TextBlock Text="ℹ️ Kullanım:" FontSize="16" FontFamily="pack://application:,,,/Fonts/Poppins-SemiBold.ttf#Poppins" FontWeight="SemiBold" Margin="0,0,0,10"/>
                                <TextBlock Text="1. Ayarlar sekmesinden login bilgilerinizi girin" Margin="0,0,0,5"/>
                                <TextBlock Text="2. İşlem yapmak istediğiniz sayfa türünü seçin" Margin="0,0,0,5"/>
                                <TextBlock Text="3. 'Başlat' butonuna tıklayın" Margin="0,0,0,5"/>
                                <TextBlock Text="4. İşlem tamamlandığında raporları inceleyin" Margin="0,0,0,5"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#FFF3E0" BorderBrush="#FF9800" BorderThickness="1" 
                                CornerRadius="8" Padding="20" Cursor="Arrow">
                            <StackPanel>
                                <TextBlock HorizontalAlignment="Center">
                                    <Run Text="Furkan ÖZMEN" 
                                         FontSize="14" 
                                         FontWeight="Bold"
                                         Foreground="#E65100"
                                         Cursor="Hand"
                                         MouseLeftButtonDown="FurkanOzmen_Click"/>
                                    <Run Text=" tarafından geliştirilmiştir" 
                                         FontSize="14" 
                                         FontWeight="Normal"
                                         Foreground="#E65100"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        </Grid>
        
        <!-- Loading Overlay - Tüm ekranı kaplar -->
        <Border x:Name="LoadingOverlay" 
                Background="#CC000000"
                Visibility="Collapsed"
                Panel.ZIndex="1000"
                Grid.RowSpan="3"
                KeyDown="LoadingOverlay_KeyDown"
                Focusable="True">
            <Grid>
                <!-- Close Button -->
                <Button x:Name="btnCloseLoading" 
                        Content="✕" 
                        Style="{StaticResource DangerButton}"
                        Background="#F44336"
                        Foreground="White"
                        FontSize="18"
                        FontWeight="Bold"
                        Width="35"
                        Height="35"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Margin="0,-35,-35,0"
                        Click="btnCloseLoading_Click"
                        ToolTip="Yükleme işlemini durdur (ESC tuşu ile de kapatabilirsiniz)"
                        Panel.ZIndex="10"
                        Cursor="Hand"/>
                <Border Background="White" 
                        CornerRadius="4" 
                        Padding="40"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Width="600"
                        MinHeight="200">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Image x:Name="LoadingSpinner" 
                           Source="pack://application:,,,/sadece logo.png"
                           Width="60" 
                           Height="60"
                           Margin="0,0,0,20"
                           HorizontalAlignment="Center"
                           Stretch="Uniform">
                        <Image.RenderTransform>
                            <RotateTransform x:Name="SpinnerRotation" CenterX="30" CenterY="30"/>
                        </Image.RenderTransform>
                        <Image.Triggers>
                            <EventTrigger RoutedEvent="Image.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation 
                                            Storyboard.TargetName="SpinnerRotation"
                                            Storyboard.TargetProperty="Angle"
                                            From="0" To="360" 
                                            Duration="0:0:2"
                                            RepeatBehavior="Forever"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Image.Triggers>
                    </Image>
                    <TextBlock x:Name="LoadingText"
                               Text="İşlem yapılıyor..."
                               FontSize="16"
                               FontWeight="Normal"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,15"/>
                    
                    <!-- Detaylı Log Messages Container -->
                    <Border x:Name="LogContainer"
                            Background="#1E1E1E"
                            BorderBrush="#333333"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="10"
                            Margin="0,0,0,15"
                            MaxHeight="120"
                            MinHeight="80"
                            Width="500">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                            <StackPanel x:Name="LogMessagesPanel"
                                        Orientation="Vertical"
                                        HorizontalAlignment="Left">
                                <!-- Log messages will be added here dynamically -->
                            </StackPanel>
                        </ScrollViewer>
                    </Border>
                    
                    <!-- Progress Bar -->
                    <Grid x:Name="ProgressContainer" 
                          Visibility="Collapsed"
                          Width="300"
                          Margin="0,0,0,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="8"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Progress Text -->
                        <TextBlock x:Name="ProgressText" 
                                   Grid.Row="0"
                                   Text="0 / 0 tamamlandı" 
                                   FontSize="12" 
                                   Foreground="#666"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,5"/>
                        
                        <!-- Progress Bar -->
                        <Border Grid.Row="1" 
                                Background="#E0E0E0" 
                                CornerRadius="4"
                                Height="8">
                            <Border x:Name="ProgressFill" 
                                    Background="#2196F3" 
                                    CornerRadius="4"
                                    HorizontalAlignment="Left"
                                    Width="0"/>
                        </Border>
                        
                        <!-- Progress Percentage -->
                        <TextBlock x:Name="ProgressPercentage" 
                                   Grid.Row="2"
                                   Text="0%" 
                                   FontSize="12" 
                                   Foreground="#666"
                                   HorizontalAlignment="Center"
                                   Margin="0,5,0,0"/>
                    </Grid>
                    
                    <!-- ESC ile kapatma bilgisi -->
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Center" 
                                VerticalAlignment="Center"
                                Margin="0,15,0,0">
                        <TextBlock Text="⌨️" 
                                   FontSize="14" 
                                   VerticalAlignment="Center" 
                                   Margin="0,0,5,0"/>
                        <TextBlock Text="ESC ile kapatabilirsiniz" 
                                   FontSize="12" 
                                   Foreground="#666"
                                   FontWeight="Normal"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>
        
        <!-- Alt Butonlar -->
        <Border Grid.Row="3" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Sol taraf - Çıktı Klasörü ve Rapor Al -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">
                    <Button x:Name="btnOpenOutputFolder" 
                            Content="📁 Çıktı Klasörü" 
                            Style="{StaticResource ModernButton}"
                            Background="#FF9800"
                            Margin="0,0,10,0"
                            Click="btnOpenOutputFolder_Click"/>
                    <Button x:Name="btnExportReport" 
                            Content="📊 Rapor Al" 
                            Style="{StaticResource ModernButton}"
                            Background="#9C27B0"
                            Click="btnExportReport_Click"/>
                </StackPanel>
                
                <!-- Sağ taraf - İşlem Butonları -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="btnLogs" 
                            Content="📋 Loglar" 
                            Style="{StaticResource ModernButton}"
                            Background="#607D8B"
                            Margin="0,0,10,0"
                            Click="btnLogs_Click"/>
                    
                    <Button x:Name="btnSettings" 
                            Content="⚙️ Ayarlar" 
                            Style="{StaticResource ModernButton}"
                            Background="#607D8B"
                            Margin="0,0,10,0"
                            Click="btnSettings_Click"/>
                    

                    
                    <Button x:Name="btnStopScraping" 
                            Content="⏹️ Durdur" 
                            Style="{StaticResource DangerButton}"
                            Margin="0,0,10,0"
                            IsEnabled="False"
                            Click="btnStopScraping_Click"/>
                    
                    <CheckBox x:Name="chkCreateMode" 
                              Content="📝 Oluştur" 
                              VerticalAlignment="Center"
                              Margin="0,0,10,0"
                              FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"
                              FontSize="12"
                              Checked="chkCreateMode_Checked"
                              Unchecked="chkCreateMode_Unchecked"/>
                    
                    <Button x:Name="btnStartScraping" 
                            Style="{StaticResource StartButton}"
                            Click="btnStartScraping_Click">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="🚀" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <TextBlock x:Name="txtStartButtonText" Text="Başlat" FontSize="14" VerticalAlignment="Center" FontWeight="Normal" FontFamily="pack://application:,,,/Fonts/Poppins-Regular.ttf#Poppins"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Footer -->
        <Border Grid.Row="4" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Progress -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="İlerleme:" Margin="0,0,10,0" VerticalAlignment="Center"/>
                    <ProgressBar x:Name="progressBar" 
                                 Width="200" 
                                 Height="20" 
                                 Style="{StaticResource RoundedProgressBar}"
                                 Value="0"/>
                    <TextBlock x:Name="txtProgress" 
                               Text="0/0" 
                               Margin="10,0" 
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- Statistics -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="20,0">
                    <TextBlock Text="📊 Bulunan:" Margin="0,0,5,0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="txtFoundFiles" Text="0" FontWeight="Normal" Margin="0,0,20,0" VerticalAlignment="Center"/>
                    
                    <TextBlock Text="📥 İndirilen:" Margin="0,0,5,0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="txtDownloadedFiles" Text="0" FontWeight="Normal" Margin="0,0,20,0" VerticalAlignment="Center"/>
                    
                    <TextBlock Text="💰 Toplam:" Margin="0,0,5,0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="txtTotalAmount" Text="0,00 TL" FontWeight="Normal" VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- Status Bar -->
                <TextBlock x:Name="txtStatusBar" 
                           Grid.Column="4"
                           Text="Hazır" 
                           VerticalAlignment="Center"
                           FontWeight="Normal"/>
                           

            </Grid>
        </Border>
        </Grid>
        

        </Grid>
</Window> 